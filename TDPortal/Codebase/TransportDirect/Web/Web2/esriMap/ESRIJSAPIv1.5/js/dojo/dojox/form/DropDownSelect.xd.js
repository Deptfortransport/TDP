/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.form.DropDownSelect"],["require","dojox.form._FormSelectWidget"],["require","dojox.form._HasDropDown"],["require","dijit.Menu"],["requireLocalization","dijit.form","validate",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.form.DropDownSelect"]){_4._hasResource["dojox.form.DropDownSelect"]=true;_4.provide("dojox.form.DropDownSelect");_4.require("dojox.form._FormSelectWidget");_4.require("dojox.form._HasDropDown");_4.require("dijit.Menu");_4.declare("dojox.form.DropDownSelect",[_6.form._FormSelectWidget,_6.form._HasDropDown],{attributeMap:_4.mixin(_4.clone(_6.form._FormSelectWidget.prototype.attributeMap),{value:"valueNode",name:"valueNode"}),baseClass:"dojoxDropDownSelect",templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tdojoAttachPoint=\"dropDownNode,tableNode\" cellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" \r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,popupStateNode\" id=\"${id}_label\"></span\r\n\t\t\t><input type=\"hidden\" ${nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" />\r\n\t\t</td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\" \r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" waiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n",attributeMap:_4.mixin(_4.clone(_6.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",tooltipPosition:[],emptyLabel:"",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value){var si=this.srcNodeRef.selectedIndex;this.value=this.options[si!=-1?si:0].value;}this.dropDown=new _5.Menu();_4.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function(_8){if(!_8.value){return new _5.MenuSeparator();}else{var _9=_4.hitch(this,"_setValueAttr",_8);return new _5.MenuItem({option:_8,label:_8.label,onClick:_9,disabled:_8.disabled||false});}},_addOptionItem:function(_a){this.dropDown.addChild(this._getMenuItemForOption(_a));},_getChildren:function(){return this.dropDown.getChildren();},_loadChildren:function(){this.inherited(arguments);var _b=this.options.length;this._isLoaded=false;this._childrenLoaded=true;if(!this._iReadOnly){this.attr("readOnly",(_b===1));delete this._iReadOnly;}if(!this._iDisabled){this.attr("disabled",(_b===0));delete this._iDisabled;}this._setValueAttr(this.value);},_setValueAttr:function(_c){this.inherited(arguments);_4.attr(this.valueNode,"value",this.attr("value"));},_setDisplay:function(_d){this.containerNode.innerHTML="<span class=\" "+this.baseClass+"Label\">"+(_d||this.emptyLabel||"&nbsp;")+"</span>";this._layoutHack();},validate:function(_e){var _f=this.isValid(_e);this.state=_f?"":"Error";this._setStateClass();_5.setWaiState(this.focusNode,"invalid",_f?"false":"true");var _10=_f?"":this._missingMsg;if(this._message!==_10){this._message=_10;_5.hideTooltip(this.domNode);if(_10){_5.showTooltip(_10,this.domNode,this.tooltipPosition);}}return _f;},isValid:function(_11){return (!this.required||!(/^\s*$/.test(this.value)));},reset:function(){this.inherited(arguments);_5.hideTooltip(this.domNode);this.state="";this._setStateClass();delete this._message;},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=_4.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);if(_4.attr(this.srcNodeRef,"disabled")){this.attr("disabled",true);}if(this.tableNode.style.width){_4.addClass(this.domNode,this.baseClass+"FixedWidth");}},startup:function(){if(this._started){return;}if(!this.dropDown){var _12=_4.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=_5.byNode(_12);delete this.dropDownContainer;}this.inherited(arguments);},_onMenuMouseup:function(e){var _14=this.dropDown,t=e.target;if(_14.onItemClick){var _16;while(t&&!(_16=_5.byNode(t))){t=t.parentNode;}if(_16&&_16.onClick&&_16.getParent){_16.getParent().onItemClick(_16,e);}}},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_17){this._loadChildren();this._isLoaded=true;_17();},_setReadOnlyAttr:function(_18){this._iReadOnly=_18;if(!_18&&this._childrenLoaded&&this.options.length===1){return;}this.readOnly=_18;},_setDisabledAttr:function(_19){this._iDisabled=_19;if(!_19&&this._childrenLoaded&&this.options.length===0){return;}this.inherited(arguments);},uninitialize:function(_1a){if(this.dropDown){this.dropDown.destroyRecursive(_1a);delete this.dropDown;}this.inherited(arguments);}});}}};});