/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.BorderContainer"],["require","dijit.layout._LayoutWidget"],["require","dojo.cookie"],["require","dijit._Templated"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.BorderContainer"]){_4._hasResource["dijit.layout.BorderContainer"]=true;_4.provide("dijit.layout.BorderContainer");_4.require("dijit.layout._LayoutWidget");_4.require("dojo.cookie");_4.declare("dijit.layout.BorderContainer",_5.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}_4.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_7){var _8=_7.region;if(_8){this.inherited(arguments);_4.addClass(_7.domNode,this.baseClass+"Pane");var _9=this.isLeftToRight();if(_8=="leading"){_8=_9?"left":"right";}if(_8=="trailing"){_8=_9?"right":"left";}this["_"+_8]=_7.domNode;this["_"+_8+"Widget"]=_7;if((_7.splitter||this.gutters)&&!this._splitters[_8]){var _a=_4.getObject(_7.splitter?this._splitterClass:"dijit.layout._Gutter");var _b={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"};var _c=new _a({container:this,child:_7,region:_8,oppNode:this["_"+_b[_7.region]],live:this.liveSplitters});_c.isSplitter=true;this._splitters[_8]=_c.domNode;_4.place(this._splitters[_8],_7.domNode,"after");_c.startup();}_7.region=_8;}},_computeSplitterThickness:function(_d){this._splitterThickness[_d]=this._splitterThickness[_d]||_4.marginBox(this._splitters[_d])[(/top|bottom/.test(_d)?"h":"w")];},layout:function(){for(var _e in this._splitters){this._computeSplitterThickness(_e);}this._layoutChildren();},addChild:function(_f,_10){this.inherited(arguments);if(this._started){this._layoutChildren();}},removeChild:function(_11){var _12=_11.region;var _13=this._splitters[_12];if(_13){_5.byNode(_13).destroy();delete this._splitters[_12];delete this._splitterThickness[_12];}this.inherited(arguments);delete this["_"+_12];delete this["_"+_12+"Widget"];if(this._started){this._layoutChildren(_11.region);}_4.removeClass(_11.domNode,this.baseClass+"Pane");},getChildren:function(){return _4.filter(this.inherited(arguments),function(_14){return !_14.isSplitter;});},getSplitter:function(_15){var _16=this._splitters[_15];return _16?_5.byNode(_16):null;},resize:function(_17,_18){if(!this.cs||!this.pe){var _19=this.domNode;this.cs=_4.getComputedStyle(_19);this.pe=_4._getPadExtents(_19,this.cs);this.pe.r=_4._toPixelValue(_19,this.cs.paddingRight);this.pe.b=_4._toPixelValue(_19,this.cs.paddingBottom);_4.style(_19,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_1a){if(!this._borderBox||!this._borderBox.h){return;}var _1b=(this.design=="sidebar");var _1c=0,_1d=0,_1e=0,_1f=0;var _20={},_21={},_22={},_23={},_24=(this._center&&this._center.style)||{};var _25=/left|right/.test(_1a);var _26=!_1a||(!_25&&!_1b);var _27=!_1a||(_25&&_1b);if(this._top){_20=_27&&this._top.style;_1c=_4.marginBox(this._top).h;}if(this._left){_21=_26&&this._left.style;_1e=_4.marginBox(this._left).w;}if(this._right){_22=_26&&this._right.style;_1f=_4.marginBox(this._right).w;}if(this._bottom){_23=_27&&this._bottom.style;_1d=_4.marginBox(this._bottom).h;}var _28=this._splitters;var _29=_28.top,_2a=_28.bottom,_2b=_28.left,_2c=_28.right;var _2d=this._splitterThickness;var _2e=_2d.top||0,_2f=_2d.left||0,_30=_2d.right||0,_31=_2d.bottom||0;if(_2f>50||_30>50){setTimeout(_4.hitch(this,function(){this._splitterThickness={};for(var _32 in this._splitters){this._computeSplitterThickness(_32);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _34={left:(_1b?_1e+_2f:0)+pe.l+"px",right:(_1b?_1f+_30:0)+pe.r+"px"};if(_29){_4.mixin(_29.style,_34);_29.style.top=_1c+pe.t+"px";}if(_2a){_4.mixin(_2a.style,_34);_2a.style.bottom=_1d+pe.b+"px";}_34={top:(_1b?0:_1c+_2e)+pe.t+"px",bottom:(_1b?0:_1d+_31)+pe.b+"px"};if(_2b){_4.mixin(_2b.style,_34);_2b.style.left=_1e+pe.l+"px";}if(_2c){_4.mixin(_2c.style,_34);_2c.style.right=_1f+pe.r+"px";}_4.mixin(_24,{top:pe.t+_1c+_2e+"px",left:pe.l+_1e+_2f+"px",right:pe.r+_1f+_30+"px",bottom:pe.b+_1d+_31+"px"});var _35={top:_1b?pe.t+"px":_24.top,bottom:_1b?pe.b+"px":_24.bottom};_4.mixin(_21,_35);_4.mixin(_22,_35);_21.left=pe.l+"px";_22.right=pe.r+"px";_20.top=pe.t+"px";_23.bottom=pe.b+"px";if(_1b){_20.left=_23.left=_1e+_2f+pe.l+"px";_20.right=_23.right=_1f+_30+pe.r+"px";}else{_20.left=_23.left=pe.l+"px";_20.right=_23.right=pe.r+"px";}var _36=this._borderBox.h-pe.t-pe.b,_37=_36-(_1c+_2e+_1d+_31),_38=_1b?_36:_37;var _39=this._borderBox.w-pe.l-pe.r,_3a=_39-(_1e+_2f+_1f+_30),_3b=_1b?_3a:_39;var dim={top:{w:_3b,h:_1c},bottom:{w:_3b,h:_1d},left:{w:_1e,h:_38},right:{w:_1f,h:_38},center:{h:_37,w:_3a}};var _3d=_4.isIE<8||(_4.isIE&&_4.isQuirks)||_4.some(this.getChildren(),function(_3e){return _3e.domNode.tagName=="TEXTAREA"||_3e.domNode.tagName=="INPUT";});if(_3d){var _3f=function(_40,_41,_42){if(_40){(_40.resize?_40.resize(_41,_42):_4.marginBox(_40.domNode,_41));}};if(_2b){_2b.style.height=_38;}if(_2c){_2c.style.height=_38;}_3f(this._leftWidget,{h:_38},dim.left);_3f(this._rightWidget,{h:_38},dim.right);if(_29){_29.style.width=_3b;}if(_2a){_2a.style.width=_3b;}_3f(this._topWidget,{w:_3b},dim.top);_3f(this._bottomWidget,{w:_3b},dim.bottom);_3f(this._centerWidget,dim.center);}else{var _43={};if(_1a){_43[_1a]=_43.center=true;if(/top|bottom/.test(_1a)&&this.design!="sidebar"){_43.left=_43.right=true;}else{if(/left|right/.test(_1a)&&this.design=="sidebar"){_43.top=_43.bottom=true;}}}_4.forEach(this.getChildren(),function(_44){if(_44.resize&&(!_1a||_44.region in _43)){_44.resize(null,dim[_44.region]);}},this);}},destroy:function(){for(var _45 in this._splitters){var _46=this._splitters[_45];_5.byNode(_46).destroy();_4.destroy(_46);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});_4.extend(_5._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});_4.require("dijit._Templated");_4.declare("dijit.layout._Splitter",[_5._Widget,_5._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._minSize=this.child.minSize;this.child.domNode._recalc=true;this.connect(this.container,"resize",function(){this.child.domNode._recalc=true;});this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _47=_4.cookie(this._cookieName);if(_47){this.child.domNode.style[this.horizontal?"height":"width"]=_47;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_49=this.container._splitterThickness[this.region];var _4a=_4.contentBox(this.container.domNode)[dim]-(this.oppNode?_4.marginBox(this.oppNode)[dim]:0)-20-_49*2;this._maxSize=Math.min(this.child.maxSize,_4a);},_startDrag:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}if(!this.cover){this.cover=_4.doc.createElement("div");_4.addClass(this.cover,"dijitSplitterCover");_4.place(this.cover,this.child.domNode,"after");}_4.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){_4.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4.addClass(this.domNode,"dijitSplitterShadow");_4.place(this.fake,this.domNode,"after");}_4.addClass(this.domNode,"dijitSplitterActive");var _4c=this._factor,max=this._maxSize,min=this._minSize||20,_4f=this.horizontal,_50=_4f?"pageY":"pageX",_51=e[_50],_52=this.domNode.style,dim=_4f?"h":"w",_54=_4.marginBox(this.child.domNode)[dim],_55=this.region,_56=parseInt(this.domNode.style[_55],10),_57=this._resize,mb={},_59=this.child.domNode,_5a=_4.hitch(this.container,this.container._layoutChildren),de=_4.doc.body;this._handlers=(this._handlers||[]).concat([_4.connect(de,"onmousemove",this._drag=function(e,_5d){var _5e=e[_50]-_51,_5f=_4c*_5e+_54,_60=Math.max(Math.min(_5f,max),min);if(_57||_5d){mb[dim]=_60;_4.marginBox(_59,mb);_5a(_55);}_52[_55]=_4c*_5e+_56+(_60-_5f)+"px";}),_4.connect(_4.doc,"ondragstart",_4.stopEvent),_4.connect(_4.body(),"onselectstart",_4.stopEvent),_4.connect(de,"onmouseup",this,"_stopDrag")]);_4.stopEvent(e);},_stopDrag:function(e){try{if(this.cover){_4.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){_4.destroy(this.fake);}_4.removeClass(this.domNode,"dijitSplitterActive");_4.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();if(this.oppNode){this.oppNode._recalc=true;}delete this._drag;}if(this.container.persist){_4.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){_4.forEach(this._handlers,_4.disconnect);delete this._handlers;},_onKeyPress:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}this._resize=true;var _63=this.horizontal;var _64=1;var dk=_4.keys;switch(e.charOrCode){case _63?dk.UP_ARROW:dk.LEFT_ARROW:_64*=-1;case _63?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _66=_4.marginBox(this.child.domNode)[_63?"h":"w"]+this._factor*_64;var mb={};mb[this.horizontal?"h":"w"]=Math.max(Math.min(_66,this._maxSize),this._minSize);_4.marginBox(this.child.domNode,mb);if(this.oppNode){this.oppNode._recalc=true;}this.container._layoutChildren(this.region);_4.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});_4.declare("dijit.layout._Gutter",[_5._Widget,_5._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}}};});