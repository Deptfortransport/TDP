/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.grid.compat._data.editors"],["provide","dojox.grid.compat.editors"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.grid.compat._data.editors"]){_4._hasResource["dojox.grid.compat._data.editors"]=true;_4.provide("dojox.grid.compat._data.editors");_4.provide("dojox.grid.compat.editors");_4.declare("dojox.grid.editors.Base",null,{constructor:function(_7){this.cell=_7;},_valueProp:"value",_formatPending:false,format:function(_8,_9){},needFormatNode:function(_a,_b){this._formatPending=true;_6.grid.whenIdle(this,"_formatNode",_a,_b);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_c,_d){if(this._formatPending){this._formatPending=false;_4.setSelectable(this.cell.grid.domNode,true);this.formatNode(this.getNode(_d),_c,_d);}},getNode:function(_e){return (this.cell.getNode(_e)||0).firstChild||0;},formatNode:function(_f,_10,_11){if(_4.isIE){_6.grid.whenIdle(this,"focus",_11,_f);}else{this.focus(_11,_f);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_14){return this.getNode(_14)[this._valueProp];},setValue:function(_15,_16){var n=this.getNode(_15);if(n){n[this._valueProp]=_16;}},focus:function(_18,_19){_6.grid.focusSelectNode(_19||this.getNode(_18));},save:function(_1a){this.value=this.value||this.getValue(_1a);},restore:function(_1b){this.setValue(_1b,this.value);},_finish:function(_1c){_4.setSelectable(this.cell.grid.domNode,false);this.cancelFormatNode(this.cell);},apply:function(_1d){this.cell.applyEdit(this.getValue(_1d),_1d);this._finish(_1d);},cancel:function(_1e){this.cell.cancelEdit(_1e);this._finish(_1e);}});_6.grid.editors.base=_6.grid.editors.Base;_4.declare("dojox.grid.editors.Input",_6.grid.editors.Base,{constructor:function(_1f){this.keyFilter=this.keyFilter||this.cell.keyFilter;},keyFilter:null,format:function(_20,_21){this.needFormatNode(_20,_21);return "<input class=\"dojoxGrid-input\" type=\"text\" value=\""+_20+"\">";},formatNode:function(_22,_23,_24){this.inherited(arguments);this.cell.registerOnBlur(_22,_24);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){_4.stopEvent(e);}}},_finish:function(_27){this.inherited(arguments);var n=this.getNode(_27);try{_6.grid.fire(n,"blur");}catch(e){}}});_6.grid.editors.input=_6.grid.editors.Input;_4.declare("dojox.grid.editors.Select",_6.grid.editors.Input,{constructor:function(_29){this.options=this.options||this.cell.options;this.values=this.values||this.cell.values||this.options;},format:function(_2a,_2b){this.needFormatNode(_2a,_2b);var h=["<select class=\"dojoxGrid-select\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){h.push("<option",(_2a==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_30){var n=this.getNode(_30);if(n){var i=n.selectedIndex,o=n.options[i];return this.cell.returnIndex?i:o.value||o.innerHTML;}}});_6.grid.editors.select=_6.grid.editors.Select;_4.declare("dojox.grid.editors.AlwaysOn",_6.grid.editors.Input,{alwaysOn:true,_formatNode:function(_34,_35){this.formatNode(this.getNode(_35),_34,_35);},applyStaticValue:function(_36){var e=this.cell.grid.edit;e.applyCellEdit(this.getValue(_36),this.cell,_36);e.start(this.cell,_36,true);}});_6.grid.editors.alwaysOn=_6.grid.editors.AlwaysOn;_4.declare("dojox.grid.editors.Bool",_6.grid.editors.AlwaysOn,{_valueProp:"checked",format:function(_38,_39){return "<input class=\"dojoxGrid-input\" type=\"checkbox\""+(_38?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});_6.grid.editors.bool=_6.grid.editors.Bool;}}};});