/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.wire.ml.Transfer"],["provide","dojox.wire.ml.ChildWire"],["provide","dojox.wire.ml.ColumnWire"],["provide","dojox.wire.ml.NodeWire"],["provide","dojox.wire.ml.SegmentWire"],["require","dijit._Widget"],["require","dijit._Container"],["require","dojox.wire._base"],["require","dojox.wire.ml.Action"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.wire.ml.Transfer"]){_4._hasResource["dojox.wire.ml.Transfer"]=true;_4.provide("dojox.wire.ml.Transfer");_4.provide("dojox.wire.ml.ChildWire");_4.provide("dojox.wire.ml.ColumnWire");_4.provide("dojox.wire.ml.NodeWire");_4.provide("dojox.wire.ml.SegmentWire");_4.require("dijit._Widget");_4.require("dijit._Container");_4.require("dojox.wire._base");_4.require("dojox.wire.ml.Action");_4.declare("dojox.wire.ml.Transfer",_6.wire.ml.Action,{source:"",sourceStore:"",sourceAttribute:"",sourcePath:"",type:"",converter:"",delimiter:"",target:"",targetStore:"",targetAttribute:"",targetPath:"",_run:function(){var _7=this._getWire("source");var _8=this._getWire("target");_6.wire.transfer(_7,_8,arguments);},_getWire:function(_9){var _a=undefined;if(_9=="source"){_a={object:this.source,dataStore:this.sourceStore,attribute:this.sourceAttribute,path:this.sourcePath,type:this.type,converter:this.converter};}else{_a={object:this.target,dataStore:this.targetStore,attribute:this.targetAttribute,path:this.targetPath};}if(_a.object){if(_a.object.length>=9&&_a.object.substring(0,9)=="arguments"){_a.property=_a.object.substring(9);_a.object=null;}else{var i=_a.object.indexOf(".");if(i<0){_a.object=_6.wire.ml._getValue(_a.object);}else{_a.property=_a.object.substring(i+1);_a.object=_6.wire.ml._getValue(_a.object.substring(0,i));}}}if(_a.dataStore){_a.dataStore=_6.wire.ml._getValue(_a.dataStore);}var _c=undefined;var _d=this.getChildren();for(var i in _d){var _e=_d[i];if(_e instanceof _6.wire.ml.ChildWire&&_e.which==_9){if(!_c){_c={};}_e._addWire(this,_c);}}if(_c){_c.object=_6.wire.create(_a);_c.dataStore=_a.dataStore;_a=_c;}return _a;}});_4.declare("dojox.wire.ml.ChildWire",_5._Widget,{which:"source",object:"",property:"",type:"",converter:"",attribute:"",path:"",name:"",_addWire:function(_f,_10){if(this.name){if(!_10.children){_10.children={};}_10.children[this.name]=this._getWire(_f);}else{if(!_10.children){_10.children=[];}_10.children.push(this._getWire(_f));}},_getWire:function(_11){return {object:(this.object?_6.wire.ml._getValue(this.object):undefined),property:this.property,type:this.type,converter:this.converter,attribute:this.attribute,path:this.path};}});_4.declare("dojox.wire.ml.ColumnWire",_6.wire.ml.ChildWire,{column:"",_addWire:function(_12,_13){if(this.column){if(!_13.columns){_13.columns={};}_13.columns[this.column]=this._getWire(_12);}else{if(!_13.columns){_13.columns=[];}_13.columns.push(this._getWire(_12));}}});_4.declare("dojox.wire.ml.NodeWire",[_6.wire.ml.ChildWire,_5._Container],{titleProperty:"",titleAttribute:"",titlePath:"",_addWire:function(_14,_15){if(!_15.nodes){_15.nodes=[];}_15.nodes.push(this._getWires(_14));},_getWires:function(_16){var _17={node:this._getWire(_16),title:{type:"string",property:this.titleProperty,attribute:this.titleAttribute,path:this.titlePath}};var _18=[];var _19=this.getChildren();for(var i in _19){var _1b=_19[i];if(_1b instanceof _6.wire.ml.NodeWire){_18.push(_1b._getWires(_16));}}if(_18.length>0){_17.children=_18;}return _17;}});_4.declare("dojox.wire.ml.SegmentWire",_6.wire.ml.ChildWire,{_addWire:function(_1c,_1d){if(!_1d.segments){_1d.segments=[];}_1d.segments.push(this._getWire(_1c));if(_1c.delimiter&&!_1d.delimiter){_1d.delimiter=_1c.delimiter;}}});}}};});