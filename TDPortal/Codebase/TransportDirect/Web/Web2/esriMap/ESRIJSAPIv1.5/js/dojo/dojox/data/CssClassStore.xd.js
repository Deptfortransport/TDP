/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.data.CssClassStore"],["require","dojox.data.CssRuleStore"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.data.CssClassStore"]){_4._hasResource["dojox.data.CssClassStore"]=true;_4.provide("dojox.data.CssClassStore");_4.require("dojox.data.CssRuleStore");_4.declare("dojox.data.CssClassStore",_6.data.CssRuleStore,{_labelAttribute:"class",_idAttribute:"class",_cName:"dojox.data.CssClassStore",getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getAttributes:function(_7){this._assertIsItem(_7);return ["class","classSans"];},getValue:function(_8,_9,_a){var _b=this.getValues(_8,_9);if(_b&&_b.length>0){return _b[0];}return _a;},getValues:function(_c,_d){this._assertIsItem(_c);this._assertIsAttribute(_d);var _e=[];if(_d==="class"){_e=[_c.className];}else{if(_d==="classSans"){_e=[_c.className.replace(/\./g,"")];}}return _e;},_handleRule:function(_f,_10,_11){var obj={};var s=_f["selectorText"].split(" ");for(var j=0;j<s.length;j++){var tmp=s[j];var _16=tmp.indexOf(".");if(tmp&&tmp.length>0&&_16!==-1){var _17=tmp.indexOf(",")||tmp.indexOf("[");tmp=tmp.substring(_16,((_17!==-1&&_17>_16)?_17:tmp.length));obj[tmp]=true;}}for(var key in obj){if(!this._allItems[key]){var _19={};_19.className=key;_19[this._storeRef]=this;this._allItems[key]=_19;}}},_handleReturn:function(){var _1a=[];var _1b={};for(var i in this._allItems){_1b[i]=this._allItems[i];}var _1d;while(this._pending.length){_1d=this._pending.pop();_1d.request._items=_1b;_1a.push(_1d);}while(_1a.length){_1d=_1a.pop();if(_1d.fetch){this._handleFetchReturn(_1d.request);}else{this._handleFetchByIdentityReturn(_1d.request);}}},_handleFetchByIdentityReturn:function(_1e){var _1f=_1e._items;var _20=_1f[(_4.isWebKit?_1e.identity.toLowerCase():_1e.identity)];if(!this.isItem(_20)){_20=null;}if(_1e.onItem){var _21=_1e.scope||_4.global;_1e.onItem.call(_21,_20);}},getIdentity:function(_22){this._assertIsItem(_22);return this.getValue(_22,this._idAttribute);},getIdentityAttributes:function(_23){this._assertIsItem(_23);return [this._idAttribute];},fetchItemByIdentity:function(_24){_24=_24||{};if(!_24.store){_24.store=this;}if(this._pending&&this._pending.length>0){this._pending.push({request:_24});}else{this._pending=[{request:_24}];this._fetch(_24);}return _24;}});}}};});