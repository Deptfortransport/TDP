/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.grid.compat._grid.views"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.grid.compat._grid.views"]){_4._hasResource["dojox.grid.compat._grid.views"]=true;_4.provide("dojox.grid.compat._grid.views");_4.declare("dojox.grid.views",null,{constructor:function(_7){this.grid=_7;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_8){_8.idx=this.views.length;this.views.push(_8);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _b=[];for(var i=0,v;v=this.views[i];i++){_b.push(v.contentNode);}return _b;},forEach:function(_e){for(var i=0,v;v=this.views[i];i++){_e(v,i);}},onEach:function(_11,_12){_12=_12||[];for(var i=0,v;v=this.views[i];i++){if(_11 in v){v[_11].apply(v,_12);}}},normalizeHeaderNodeHeight:function(){var _15=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_15.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_15);},normalizeRowNodeHeights:function(_18){var h=0;for(var i=0,n,o;(n=_18[i]);i++){h=Math.max(h,(n.firstChild.clientHeight)||(n.firstChild.offsetHeight));}h=(h>=0?h:0);var hpx=h+"px";for(var i=0,n;(n=_18[i]);i++){if(n.firstChild.clientHeight!=h){n.firstChild.style.height=hpx;}}if(_18&&_18[0]){_18[0].parentNode.offsetHeight;}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_21){var _22=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_21));i++){n.firstChild.style.height="";_22.push(n);}this.normalizeRowNodeHeights(_22);},getViewWidth:function(_26){return this.views[_26].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_27){_27.headerContentNode.style.height="";});var h=0;this.forEach(function(_29){h=Math.max(_29.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_2b){h=Math.max(_2b.domNode.offsetHeight,h);});return h;},findClient:function(_2c){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _37=function(v,l){with(v.domNode.style){if(!_4._isBodyLtr()){right=l+"px";}else{left=l+"px";}top=0+"px";}with(v.headerNode.style){if(!_4._isBodyLtr()){right=l+"px";}else{left=l+"px";}top=0;}};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_37(v,l);vw=v.domNode.offsetWidth;l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_37(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_37(v,l);}return l;},renderRow:function(_3c,_3d){var _3e=[];for(var i=0,v,n,_42;(v=this.views[i])&&(n=_3d[i]);i++){_42=v.renderRow(_3c);n.appendChild(_42);_3e.push(_42);}this.normalizeRowNodeHeights(_3e);},rowRemoved:function(_43){this.onEach("rowRemoved",[_43]);},updateRow:function(_44,_45){for(var i=0,v;v=this.views[i];i++){v.updateRow(_44,_45);}this.renormalizeRow(_44);},updateRowStyles:function(_48){this.onEach("updateRowStyles",[_48]);},setScrollTop:function(_49){var top=_49;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_49);}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasScrollbar()){return v;}}}});}}};});