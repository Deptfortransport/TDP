/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.charting.scaler.linear"],["require","dojox.charting.scaler.common"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.charting.scaler.linear"]){_4._hasResource["dojox.charting.scaler.linear"]=true;_4.provide("dojox.charting.scaler.linear");_4.require("dojox.charting.scaler.common");(function(){var _7=3,dc=_6.charting,_9=dc.scaler,_a=_9.common,_b=_a.findString,_c=_a.getNumericLabel;var _d=function(_e,_f,_10,_11,_12,_13,_14){_10=_4.delegate(_10);if(!_11){if(_10.fixUpper=="major"){_10.fixUpper="minor";}if(_10.fixLower=="major"){_10.fixLower="minor";}}if(!_12){if(_10.fixUpper=="minor"){_10.fixUpper="micro";}if(_10.fixLower=="minor"){_10.fixLower="micro";}}if(!_13){if(_10.fixUpper=="micro"){_10.fixUpper="none";}if(_10.fixLower=="micro"){_10.fixLower="none";}}var _15=_b(_10.fixLower,["major"])?Math.floor(_10.min/_11)*_11:_b(_10.fixLower,["minor"])?Math.floor(_10.min/_12)*_12:_b(_10.fixLower,["micro"])?Math.floor(_10.min/_13)*_13:_10.min,_16=_b(_10.fixUpper,["major"])?Math.ceil(_10.max/_11)*_11:_b(_10.fixUpper,["minor"])?Math.ceil(_10.max/_12)*_12:_b(_10.fixUpper,["micro"])?Math.ceil(_10.max/_13)*_13:_10.max;if(_10.useMin){_e=_15;}if(_10.useMax){_f=_16;}var _17=(!_11||_10.useMin&&_b(_10.fixLower,["major"]))?_e:Math.ceil(_e/_11)*_11,_18=(!_12||_10.useMin&&_b(_10.fixLower,["major","minor"]))?_e:Math.ceil(_e/_12)*_12,_19=(!_13||_10.useMin&&_b(_10.fixLower,["major","minor","micro"]))?_e:Math.ceil(_e/_13)*_13,_1a=!_11?0:(_10.useMax&&_b(_10.fixUpper,["major"])?Math.round((_f-_17)/_11):Math.floor((_f-_17)/_11))+1,_1b=!_12?0:(_10.useMax&&_b(_10.fixUpper,["major","minor"])?Math.round((_f-_18)/_12):Math.floor((_f-_18)/_12))+1,_1c=!_13?0:(_10.useMax&&_b(_10.fixUpper,["major","minor","micro"])?Math.round((_f-_19)/_13):Math.floor((_f-_19)/_13))+1,_1d=_12?Math.round(_11/_12):0,_1e=_13?Math.round(_12/_13):0,_1f=_11?Math.floor(Math.log(_11)/Math.LN10):0,_20=_12?Math.floor(Math.log(_12)/Math.LN10):0,_21=_14/(_f-_e);if(!isFinite(_21)){_21=1;}return {bounds:{lower:_15,upper:_16,from:_e,to:_f,scale:_21,span:_14},major:{tick:_11,start:_17,count:_1a,prec:_1f},minor:{tick:_12,start:_18,count:_1b,prec:_20},micro:{tick:_13,start:_19,count:_1c,prec:0},minorPerMajor:_1d,microPerMinor:_1e,scaler:_9.linear};};_4.mixin(_6.charting.scaler.linear,{buildScaler:function(min,max,_24,_25){var h={fixUpper:"none",fixLower:"none",natural:false};if(_25){if("fixUpper" in _25){h.fixUpper=String(_25.fixUpper);}if("fixLower" in _25){h.fixLower=String(_25.fixLower);}if("natural" in _25){h.natural=Boolean(_25.natural);}}if("min" in _25){min=_25.min;}if("max" in _25){max=_25.max;}if(_25.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _25){min=_25.from;h.useMin=false;}if("to" in _25){max=_25.to;h.useMax=false;}if(max<=min){return _d(min,max,h,0,0,0,_24);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_28=_25&&("majorTickStep" in _25)?_25.majorTickStep:Math.pow(10,mag),_29=0,_2a=0,_2b;if(_25&&("minorTickStep" in _25)){_29=_25.minorTickStep;}else{do{_29=_28/10;if(!h.natural||_29>0.9){_2b=_d(min,max,h,_28,_29,0,_24);if(_2b.bounds.scale*_2b.minor.tick>_7){break;}}_29=_28/5;if(!h.natural||_29>0.9){_2b=_d(min,max,h,_28,_29,0,_24);if(_2b.bounds.scale*_2b.minor.tick>_7){break;}}_29=_28/2;if(!h.natural||_29>0.9){_2b=_d(min,max,h,_28,_29,0,_24);if(_2b.bounds.scale*_2b.minor.tick>_7){break;}}return _d(min,max,h,_28,0,0,_24);}while(false);}if(_25&&("microTickStep" in _25)){_2a=_25.microTickStep;_2b=_d(min,max,h,_28,_29,_2a,_24);}else{do{_2a=_29/10;if(!h.natural||_2a>0.9){_2b=_d(min,max,h,_28,_29,_2a,_24);if(_2b.bounds.scale*_2b.micro.tick>_7){break;}}_2a=_29/5;if(!h.natural||_2a>0.9){_2b=_d(min,max,h,_28,_29,_2a,_24);if(_2b.bounds.scale*_2b.micro.tick>_7){break;}}_2a=_29/2;if(!h.natural||_2a>0.9){_2b=_d(min,max,h,_28,_29,_2a,_24);if(_2b.bounds.scale*_2b.micro.tick>_7){break;}}_2a=0;}while(false);}return _2a?_2b:_d(min,max,h,_28,_29,0,_24);},buildTicks:function(_2c,_2d){var _2e,_2f,_30,_31=_2c.major.start,_32=_2c.minor.start,_33=_2c.micro.start;if(_2d.microTicks&&_2c.micro.tick){_2e=_2c.micro.tick,_2f=_33;}else{if(_2d.minorTicks&&_2c.minor.tick){_2e=_2c.minor.tick,_2f=_32;}else{if(_2c.major.tick){_2e=_2c.major.tick,_2f=_31;}else{return null;}}}var _34=1/_2c.bounds.scale;if(_2c.bounds.to<=_2c.bounds.from||isNaN(_34)||!isFinite(_34)||_2e<=0||isNaN(_2e)||!isFinite(_2e)){return null;}var _35=[],_36=[],_37=[];while(_2f<=_2c.bounds.to+_34){if(Math.abs(_31-_2f)<_2e/2){_30={value:_31};if(_2d.majorLabels){_30.label=_c(_31,_2c.major.prec,_2d);}_35.push(_30);_31+=_2c.major.tick;_32+=_2c.minor.tick;_33+=_2c.micro.tick;}else{if(Math.abs(_32-_2f)<_2e/2){if(_2d.minorTicks){_30={value:_32};if(_2d.minorLabels&&(_2c.minMinorStep<=_2c.minor.tick*_2c.bounds.scale)){_30.label=_c(_32,_2c.minor.prec,_2d);}_36.push(_30);}_32+=_2c.minor.tick;_33+=_2c.micro.tick;}else{if(_2d.microTicks){_37.push({value:_33});}_33+=_2c.micro.tick;}}_2f+=_2e;}return {major:_35,minor:_36,micro:_37};},getTransformerFromModel:function(_38){var _39=_38.bounds.from,_3a=_38.bounds.scale;return function(x){return (x-_39)*_3a;};},getTransformerFromPlot:function(_3c){var _3d=_3c.bounds.from,_3e=_3c.bounds.scale;return function(x){return x/_3e+_3d;};}});})();}}};});