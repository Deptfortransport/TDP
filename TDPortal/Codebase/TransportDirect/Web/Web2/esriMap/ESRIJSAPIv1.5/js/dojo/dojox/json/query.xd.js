/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.json.query"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.json.query"]){_4._hasResource["dojox.json.query"]=true;_4.provide("dojox.json.query");(function(){function _7(_8,_9,_a,_b){var _c=_8.length,_d=[];_a=_a||_c;_9=(_9<0)?Math.max(0,_9+_c):Math.min(_c,_9);_a=(_a<0)?Math.max(0,_a+_c):Math.min(_c,_a);for(var i=_9;i<_a;i+=_b){_d.push(_8[i]);}return _d;};function _f(obj,_11){var _12=[];function _13(obj){if(_11){if(_11===true&&!(obj instanceof Array)){_12.push(obj);}else{if(obj[_11]){_12.push(obj[_11]);}}}for(var i in obj){var val=obj[i];if(!_11){_12.push(val);}else{if(val&&typeof val=="object"){_13(val);}}}};if(_11 instanceof Array){if(_11.length==1){return obj[_11[0]];}for(var i=0;i<_11.length;i++){_12.push(obj[_11[i]]);}}else{_13(obj);}return _12;};function _18(_19,_1a){var _1b=[];var _1c={};for(var i=0,l=_19.length;i<l;++i){var _1f=_19[i];if(_1a(_1f,i,_19)){if((typeof _1f=="object")&&_1f){if(!_1f.__included){_1f.__included=true;_1b.push(_1f);}}else{if(!_1c[_1f+typeof _1f]){_1c[_1f+typeof _1f]=true;_1b.push(_1f);}}}}for(i=0,l=_1b.length;i<l;++i){if(_1b[i]){delete _1b[i].__included;}}return _1b;};_6.json.query=function(_20,obj){var _22=0;var str=[];_20=_20.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_22+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_22>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _25="";function _26(_27){_25=_27+"("+_25;};function _28(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_20.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_20=_20.replace(/([^=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var _35=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(_35){var _36="";if(t.match(/^\./)){_26("expand");_36=",true)";}_26(_35[1].match(/\=/)?"dojo.map":_35[1].match(/\^/)?"distinctFilter":"dojo.filter");return _36+",function($obj){return "+_35[2]+"})";}_35=t.match(/^\[\s*([\/\\].*)\]/);if(_35){return ".concat().sort(function(a,b){"+_35[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}_35=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(_35){_26("slice");return ","+(_35[1]||0)+","+(_35[2]||0)+","+(_35[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){_26("expand");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_28).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _28(t,c,d,e,f,g,b,a);});_20=_25+(_20.charAt(0)=="$"?"":"$")+_20.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _44=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_20+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_44.apply(this,arguments):_44;};})();}}};});