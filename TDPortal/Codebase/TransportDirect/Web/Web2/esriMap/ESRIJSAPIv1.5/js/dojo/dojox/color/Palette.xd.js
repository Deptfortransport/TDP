/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.color.Palette"],["require","dojox.color"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.color.Palette"]){_4._hasResource["dojox.color.Palette"]=true;_4.provide("dojox.color.Palette");_4.require("dojox.color");(function(){var _7=_6.color;_7.Palette=function(_8){this.colors=[];if(_8 instanceof _6.color.Palette){this.colors=_8.colors.slice(0);}else{if(_8 instanceof _6.color.Color){this.colors=[null,null,_8,null,null];}else{if(_4.isArray(_8)){this.colors=_4.map(_8.slice(0),function(_9){if(_4.isString(_9)){return new _6.color.Color(_9);}return _9;});}else{if(_4.isString(_8)){this.colors=[null,null,new _6.color.Color(_8),null,null];}}}}};function _a(p,_c,_d){var _e=new _6.color.Palette();_e.colors=[];_4.forEach(p.colors,function(_f){var r=(_c=="dr")?_f.r+_d:_f.r,g=(_c=="dg")?_f.g+_d:_f.g,b=(_c=="db")?_f.b+_d:_f.b,a=(_c=="da")?_f.a+_d:_f.a;_e.colors.push(new _6.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});console.log("The return colors are ",_e.colors," from the original colors ",p.colors);return _e;};function _14(p,_16,val){var ret=new _6.color.Palette();ret.colors=[];_4.forEach(p.colors,function(_19){var o=_19.toCmy(),c=(_16=="dc")?o.c+val:o.c,m=(_16=="dm")?o.m+val:o.m,y=(_16=="dy")?o.y+val:o.y;ret.colors.push(_6.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _1e(p,_20,val){var ret=new _6.color.Palette();ret.colors=[];_4.forEach(p.colors,function(_23){var o=_23.toCmyk(),c=(_20=="dc")?o.c+val:o.c,m=(_20=="dm")?o.m+val:o.m,y=(_20=="dy")?o.y+val:o.y,k=(_20=="dk")?o.b+val:o.b;ret.colors.push(_6.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function _29(p,_2b,val){var ret=new _6.color.Palette();ret.colors=[];_4.forEach(p.colors,function(_2e){var o=_2e.toHsl(),h=(_2b=="dh")?o.h+val:o.h,s=(_2b=="ds")?o.s+val:o.s,l=(_2b=="dl")?o.l+val:o.l;ret.colors.push(_6.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function _33(p,_35,val){var ret=new _6.color.Palette();ret.colors=[];_4.forEach(p.colors,function(_38){var o=_38.toHsv(),h=(_35=="dh")?o.h+val:o.h,s=(_35=="ds")?o.s+val:o.s,v=(_35=="dv")?o.v+val:o.v;ret.colors.push(_6.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _3d(val,low,_40){return _40-((_40-val)*((_40-low)/_40));};_4.extend(_7.Palette,{transform:function(_41){var fn=_a;if(_41.use){var use=_41.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=_29;}else{fn=_33;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_1e;}else{fn=_14;}}}}else{if("dc" in _41||"dm" in _41||"dy" in _41){if("dk" in _41){fn=_1e;}else{fn=_14;}}else{if("dh" in _41||"ds" in _41){if("dv" in _41){fn=_33;}else{fn=_29;}}}}var _44=this;for(var p in _41){if(p=="use"){continue;}_44=fn(_44,p,_41[p]);}return _44;},clone:function(){return new _7.Palette(this);}});_4.mixin(_7.Palette,{generators:{analogous:function(_46){var _47=_46.high||60,low=_46.low||18,_49=_4.isString(_46.base)?new _6.color.Color(_46.base):_46.base,hsv=_49.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(_47/2)+360)%360,(hsv.h-_47+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new _7.Palette(_4.map(h,function(hue,i){return _6.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(_54){var _55=_4.isString(_54.base)?new _6.color.Color(_54.base):_54.base,hsv=_55.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_3d(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new _7.Palette([_6.color.fromHsv(hsv.h,s1,v1),_6.color.fromHsv(hsv.h,s2,v3),_55,_6.color.fromHsv(hsv.h,s1,v3),_6.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(_5c){var _5d=_4.isString(_5c.base)?new _6.color.Color(_5c.base):_5c.base,hsv=_5d.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new _7.Palette([_6.color.fromHsv(h1,s1,hsv.v),_6.color.fromHsv(hsv.h,s2,v2),_5d,_6.color.fromHsv(h2,s2,v1),_6.color.fromHsv(h2,s3,v3)]);},complementary:function(_67){var _68=_4.isString(_67.base)?new _6.color.Color(_67.base):_67.base,hsv=_68.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_3d(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new _7.Palette([_6.color.fromHsv(hsv.h,s1,v1),_6.color.fromHsv(hsv.h,s2,v2),_68,_6.color.fromHsv(h1,s3,v2),_6.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(_70){var _71=_4.isString(_70.base)?new _6.color.Color(_70.base):_70.base,_72=_70.da||30,hsv=_71.toHsv();var _74=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_74-_72+360)%360,h2=(_74+_72)%360,s1=Math.max(hsv.s-10,0),s2=_3d(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new _7.Palette([_6.color.fromHsv(h1,s1,v1),_6.color.fromHsv(h1,s2,v2),_71,_6.color.fromHsv(h2,s3,v2),_6.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(_7c){var _7d=_4.isString(_7c.base)?new _6.color.Color(_7c.base):_7c.base,hsv=_7d.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new _7.Palette([_6.color.fromHsv(h1,s1,v1),_6.color.fromHsv(h1,s2,v2),_7d,_6.color.fromHsv(h2,s3,v3),_6.color.fromHsv(h3,s2,v2)]);},shades:function(_88){var _89=_4.isString(_88.base)?new _6.color.Color(_88.base):_88.base,hsv=_89.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new _7.Palette([new _6.color.fromHsv(hsv.h,s,v1),new _6.color.fromHsv(hsv.h,s,v2),_89,new _6.color.fromHsv(hsv.h,s,v3),new _6.color.fromHsv(hsv.h,s,v4)]);}},generate:function(_90,_91){if(_4.isFunction(_91)){return _91({base:_90});}else{if(_7.Palette.generators[_91]){return _7.Palette.generators[_91]({base:_90});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+_91+"') does not exist.");}});})();}}};});