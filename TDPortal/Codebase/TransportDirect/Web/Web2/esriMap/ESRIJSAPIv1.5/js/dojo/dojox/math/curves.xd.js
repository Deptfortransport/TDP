/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.math.curves"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.math.curves"]){_4._hasResource["dojox.math.curves"]=true;_4.provide("dojox.math.curves");_4.mixin(_6.math.curves,{Line:function(_7,_8){this.start=_7;this.end=_8;this.dimensions=_7.length;for(var i=0;i<_7.length;i++){_7[i]=Number(_7[i]);}for(var i=0;i<_8.length;i++){_8[i]=Number(_8[i]);}this.getValue=function(n){var _b=new Array(this.dimensions);for(var i=0;i<this.dimensions;i++){_b[i]=((this.end[i]-this.start[i])*n)+this.start[i];}return _b;};return this;},Bezier:function(_d){this.getValue=function(_e){if(_e>=1){return this.p[this.p.length-1];}if(_e<=0){return this.p[0];}var _f=new Array(this.p[0].length);for(var k=0;j<this.p[0].length;k++){_f[k]=0;}for(var j=0;j<this.p[0].length;j++){var C=0;var D=0;for(var i=0;i<this.p.length;i++){C+=this.p[i][j]*this.p[this.p.length-1][0]*_6.math.bernstein(_e,this.p.length,i);}for(var l=0;l<this.p.length;l++){D+=this.p[this.p.length-1][0]*_6.math.bernstein(_e,this.p.length,l);}_f[j]=C/D;}return _f;};this.p=_d;return this;},CatmullRom:function(_16,c){this.getValue=function(_18){var _19=_18*(this.p.length-1);var _1a=Math.floor(_19);var _1b=_19-_1a;var i0=_1a-1;if(i0<0){i0=0;}var i=_1a;var i1=_1a+1;if(i1>=this.p.length){i1=this.p.length-1;}var i2=_1a+2;if(i2>=this.p.length){i2=this.p.length-1;}var u=_1b;var u2=_1b*_1b;var u3=_1b*_1b*_1b;var _23=new Array(this.p[0].length);for(var k=0;k<this.p[0].length;k++){var x1=(-this.c*this.p[i0][k])+((2-this.c)*this.p[i][k])+((this.c-2)*this.p[i1][k])+(this.c*this.p[i2][k]);var x2=(2*this.c*this.p[i0][k])+((this.c-3)*this.p[i][k])+((3-2*this.c)*this.p[i1][k])+(-this.c*this.p[i2][k]);var x3=(-this.c*this.p[i0][k])+(this.c*this.p[i1][k]);var x4=this.p[i][k];_23[k]=x1*u3+x2*u2+x3*u+x4;}return _23;};if(!c){this.c=0.7;}else{this.c=c;}this.p=_16;return this;},Arc:function(_29,end,ccw){function _2c(a,b){var c=new Array(a.length);for(var i=0;i<a.length;i++){c[i]=a[i]+b[i];}return c;};function _31(a){var b=new Array(a.length);for(var i=0;i<a.length;i++){b[i]=-a[i];}return b;};var _35=_6.math.midpoint(_29,end);var _36=_2c(_31(_35),_29);var rad=Math.sqrt(Math.pow(_36[0],2)+Math.pow(_36[1],2));var _38=_6.math.radiansToDegrees(Math.atan(_36[1]/_36[0]));if(_36[0]<0){_38-=90;}else{_38+=90;}_6.math.curves.CenteredArc.call(this,_35,rad,_38,_38+(ccw?-180:180));},CenteredArc:function(_39,_3a,_3b,end){this.center=_39;this.radius=_3a;this.start=_3b||0;this.end=end;this.getValue=function(n){var _3e=new Array(2);var _3f=_6.math.degreesToRadians(this.start+((this.end-this.start)*n));_3e[0]=this.center[0]+this.radius*Math.sin(_3f);_3e[1]=this.center[1]-this.radius*Math.cos(_3f);return _3e;};return this;},Circle:function(_40,_41){_6.math.curves.CenteredArc.call(this,_40,_41,0,360);return this;},Path:function(){var _42=[];var _43=[];var _44=[];var _45=0;this.add=function(_46,_47){if(_47<0){console.error("dojox.math.curves.Path.add: weight cannot be less than 0");}_42.push(_46);_43.push(_47);_45+=_47;_48();};this.remove=function(_49){for(var i=0;i<_42.length;i++){if(_42[i]==_49){_42.splice(i,1);_45-=_43.splice(i,1)[0];break;}}_48();};this.removeAll=function(){_42=[];_43=[];_45=0;};this.getValue=function(n){var _4c=false,_4d=0;for(var i=0;i<_44.length;i++){var r=_44[i];if(n>=r[0]&&n<r[1]){var _50=(n-r[0])/r[2];_4d=_42[i].getValue(_50);_4c=true;break;}}if(!_4c){_4d=_42[_42.length-1].getValue(1);}for(var j=0;j<i;j++){_4d=_6.math.points.translate(_4d,_42[j].getValue(1));}return _4d;};function _48(){var _52=0;for(var i=0;i<_43.length;i++){var end=_52+_43[i]/_45;var len=end-_52;_44[i]=[_52,end,len];_52=end;}};return this;}});}}};});