/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.lang.aspect"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.lang.aspect"]){_4._hasResource["dojox.lang.aspect"]=true;_4.provide("dojox.lang.aspect");(function(){var d=_4,_8=_6.lang.aspect,ap=Array.prototype,_a=[],_b;var _c=function(){this.next_before=this.prev_before=this.next_around=this.prev_around=this.next_afterReturning=this.prev_afterReturning=this.next_afterThrowing=this.prev_afterThrowing=this;this.counter=0;};d.extend(_c,{add:function(_d){var _e=d.isFunction(_d),_f={advice:_d,dynamic:_e};this._add(_f,"before","",_e,_d);this._add(_f,"around","",_e,_d);this._add(_f,"after","Returning",_e,_d);this._add(_f,"after","Throwing",_e,_d);++this.counter;return _f;},_add:function(_10,_11,_12,dyn,_14){var _15=_11+_12;if(dyn||_14[_11]||(_12&&_14[_15])){var _16="next_"+_15,_17="prev_"+_15;(_10[_17]=this[_17])[_16]=_10;(_10[_16]=this)[_17]=_10;}},remove:function(_18){this._remove(_18,"before");this._remove(_18,"around");this._remove(_18,"afterReturning");this._remove(_18,"afterThrowing");--this.counter;},_remove:function(_19,_1a){var _1b="next_"+_1a,_1c="prev_"+_1a;if(_19[_1b]){_19[_1b][_1c]=_19[_1c];_19[_1c][_1b]=_19[_1b];}},isEmpty:function(){return !this.counter;}});var _1d=function(){return function(){var _1e=arguments.callee,_1f=_1e.advices,ret,i,a,e,t;if(_b){_a.push(_b);}_b={instance:this,joinPoint:_1e,depth:_a.length,around:_1f.prev_around,dynAdvices:[],dynIndex:0};try{for(i=_1f.prev_before;i!=_1f;i=i.prev_before){if(i.dynamic){_b.dynAdvices.push(a=new i.advice(_b));if(t=a.before){t.apply(a,arguments);}}else{t=i.advice;t.before.apply(t,arguments);}}try{ret=(_1f.prev_around==_1f?_1e.target:_8.proceed).apply(this,arguments);}catch(e){_b.dynIndex=_b.dynAdvices.length;for(i=_1f.next_afterThrowing;i!=_1f;i=i.next_afterThrowing){a=i.dynamic?_b.dynAdvices[--_b.dynIndex]:i.advice;if(t=a.afterThrowing){t.call(a,e);}if(t=a.after){t.call(a);}}throw e;}_b.dynIndex=_b.dynAdvices.length;for(i=_1f.next_afterReturning;i!=_1f;i=i.next_afterReturning){a=i.dynamic?_b.dynAdvices[--_b.dynIndex]:i.advice;if(t=a.afterReturning){t.call(a,ret);}if(t=a.after){t.call(a);}}var ls=_1e._listeners;for(i in ls){if(!(i in ap)){ls[i].apply(this,arguments);}}}finally{for(i=0;i<_b.dynAdvices.length;++i){a=_b.dynAdvices[i];if(a.destroy){a.destroy();}}_b=_a.length?_a.pop():null;}return ret;};};_8.advise=function(obj,_27,_28){if(typeof obj!="object"){obj=obj.prototype;}var _29=[];if(!(_27 instanceof Array)){_27=[_27];}for(var j=0;j<_27.length;++j){var t=_27[j];if(t instanceof RegExp){for(var i in obj){if(d.isFunction(obj[i])&&t.test(i)){_29.push(i);}}}else{if(d.isFunction(obj[t])){_29.push(t);}}}if(!d.isArray(_28)){_28=[_28];}return _8.adviseRaw(obj,_29,_28);};_8.adviseRaw=function(obj,_2e,_2f){if(!_2e.length||!_2f.length){return null;}var m={},al=_2f.length;for(var i=_2e.length-1;i>=0;--i){var _33=_2e[i],o=obj[_33],ao=new Array(al),t=o.advices;if(!t){var x=obj[_33]=_1d();x.target=o.target||o;x.targetName=_33;x._listeners=o._listeners||[];x.advices=new _c;t=x.advices;}for(var j=0;j<al;++j){ao[j]=t.add(_2f[j]);}m[_33]=ao;}return [obj,m];};_8.unadvise=function(_39){if(!_39){return;}var obj=_39[0],_3b=_39[1];for(var _3c in _3b){var o=obj[_3c],t=o.advices,ao=_3b[_3c];for(var i=ao.length-1;i>=0;--i){t.remove(ao[i]);}if(t.isEmpty()){var _41=true,ls=o._listeners;if(ls.length){for(i in ls){if(!(i in ap)){_41=false;break;}}}if(_41){obj[_3c]=o.target;}else{var x=obj[_3c]=d._listener.getDispatcher();x.target=o.target;x._listeners=ls;}}}};_8.getContext=function(){return _b;};_8.getContextStack=function(){return _a;};_8.proceed=function(){var _44=_b.joinPoint,_45=_44.advices;for(var c=_b.around;c!=_45;c=_b.around){_b.around=c.prev_around;if(c.dynamic){var a=_b.dynAdvices[_b.dynIndex++],t=a.around;if(t){return t.apply(a,arguments);}}else{return c.advice.around.apply(c.advice,arguments);}}return _44.target.apply(_b.instance,arguments);};})();}}};});