/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.charting.plot2d.common"],["require","dojo.colors"],["require","dojox.gfx"],["require","dojox.lang.functional"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.charting.plot2d.common"]){_4._hasResource["dojox.charting.plot2d.common"]=true;_4.provide("dojox.charting.plot2d.common");_4.require("dojo.colors");_4.require("dojox.gfx");_4.require("dojox.lang.functional");(function(){var df=_6.lang.functional,dc=_6.charting.plot2d.common;_4.mixin(_6.charting.plot2d.common,{makeStroke:function(_9){if(!_9){return _9;}if(typeof _9=="string"||_9 instanceof _4.Color){_9={color:_9};}return _6.gfx.makeParameters(_6.gfx.defaultStroke,_9);},augmentColor:function(_a,_b){var t=new _4.Color(_a),c=new _4.Color(_b);c.a=t.a;return c;},augmentStroke:function(_e,_f){var s=dc.makeStroke(_e);if(s){s.color=dc.augmentColor(s.color,_f);}return s;},augmentFill:function(_11,_12){var fc,c=new _4.Color(_12);if(typeof _11=="string"||_11 instanceof _4.Color){return dc.augmentColor(_11,_12);}return _11;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_15){var _16=_4.clone(dc.defaultStats);for(var i=0;i<_15.length;++i){var run=_15[i];if(!run.data.length){continue;}if(typeof run.data[0]=="number"){var _19=_16.vmin,_1a=_16.vmax;if(!("ymin" in run)||!("ymax" in run)){_4.forEach(run.data,function(val,i){var x=i+1,y=val;if(isNaN(y)){y=0;}_16.hmin=Math.min(_16.hmin,x);_16.hmax=Math.max(_16.hmax,x);_16.vmin=Math.min(_16.vmin,y);_16.vmax=Math.max(_16.vmax,y);});}if("ymin" in run){_16.vmin=Math.min(_19,run.ymin);}if("ymax" in run){_16.vmax=Math.max(_1a,run.ymax);}}else{var _1f=_16.hmin,_20=_16.hmax,_19=_16.vmin,_1a=_16.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){_4.forEach(run.data,function(val,i){var x=val.x,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_16.hmin=Math.min(_16.hmin,x);_16.hmax=Math.max(_16.hmax,x);_16.vmin=Math.min(_16.vmin,y);_16.vmax=Math.max(_16.vmax,y);});}if("xmin" in run){_16.hmin=Math.min(_1f,run.xmin);}if("xmax" in run){_16.hmax=Math.max(_20,run.xmax);}if("ymin" in run){_16.vmin=Math.min(_19,run.ymin);}if("ymax" in run){_16.vmax=Math.max(_1a,run.ymax);}}}return _16;},calculateBarSize:function(_25,opt,_27){if(!_27){_27=1;}var gap=opt.gap,_29=(_25-2*gap)/_27;if("minBarSize" in opt){_29=Math.max(_29,opt.minBarSize);}if("maxBarSize" in opt){_29=Math.min(_29,opt.maxBarSize);}_29=Math.max(_29,1);gap=(_25-_29*_27)/2;return {size:_29,gap:gap};},collectStackedStats:function(_2a){var _2b=_4.clone(dc.defaultStats);if(_2a.length){_2b.hmin=Math.min(_2b.hmin,1);_2b.hmax=df.foldl(_2a,"seed, run -> Math.max(seed, run.data.length)",_2b.hmax);for(var i=0;i<_2b.hmax;++i){var v=_2a[0].data[i];if(isNaN(v)){v=0;}_2b.vmin=Math.min(_2b.vmin,v);for(var j=1;j<_2a.length;++j){var t=_2a[j].data[i];if(isNaN(t)){t=0;}v+=t;}_2b.vmax=Math.max(_2b.vmax,v);}}return _2b;},curve:function(a,_31){var arr=a.slice(0);if(_31=="x"){arr[arr.length]=arr[0];}var p=_4.map(arr,function(_34,i){if(i==0){return "M"+_34.x+","+_34.y;}if(!isNaN(_31)){var dx=_34.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(_34.x-(_31-1)*(dx/_31))+","+dy+" "+(_34.x-(dx/_31))+","+_34.y+" "+_34.x+","+_34.y;}else{if(_31=="X"||_31=="x"||_31=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var _3c,_3d,_3e,_3f;var f=1/6;if(i==1){if(_31=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_31=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var _41=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var _42=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var _43=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _44=_42*f;var _45=_43*f;if(_44>_41/2&&_45>_41/2){_44=_41/2;_45=_41/2;}else{if(_44>_41/2){_44=_41/2;_45=_41/2*_43/_42;}else{if(_45>_41/2){_45=_41/2;_44=_41/2*_42/_43;}}}if(_31=="S"){if(p0==p1){_44=0;}if(p2==p3){_45=0;}}_3c=p1.x+_44*(p2.x-p0.x)/_42;_3d=p1.y+_44*(p2.y-p0.y)/_42;_3e=p2.x-_45*(p3.x-p1.x)/_43;_3f=p2.y-_45*(p3.y-p1.y)/_43;}}return "C"+(_3c+","+_3d+" "+_3e+","+_3f+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}}};});