/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.embed.Flash"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.embed.Flash"]){_4._hasResource["dojox.embed.Flash"]=true;_4.provide("dojox.embed.Flash");(function(){var _7,_8;var _9=9;var _a="dojox-embed-flash-",_b=0;var _c={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};function _d(_e){_e=_4.delegate(_c,_e);if(!("path" in _e)){console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");return null;}if(!("id" in _e)){_e.id=(_a+_b++);}return _e;};if(_4.isIE){_7=function(_f){_f=_d(_f);if(!_f){return null;}var p;var _11=_f.path;if(_f.vars){var a=[];for(p in _f.vars){a.push(p+"="+_f.vars[p]);}_11+=((_11.indexOf("?")==-1)?"?":"&")+a.join("&");}var s="<object id=\""+_f.id+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_f.width+"\" "+"height=\""+_f.height+"\""+((_f.style)?" style=\""+_f.style+"\"":"")+">"+"<param name=\"movie\" value=\""+_11+"\" />";if(_f.params){for(p in _f.params){s+="<param name=\""+p+"\" value=\""+_f.params[p]+"\" />";}}s+="</object>";return {id:_f.id,markup:s};};_8=(function(){var _14=10,_15=null;while(!_15&&_14>7){try{_15=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_14--);}catch(e){}}if(_15){var v=_15.GetVariable("$version").split(" ")[1].split(",");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();_4.addOnUnload(function(){var _18=function(){};var _19=_4.query("object").reverse().style("display","none").forEach(function(i){for(var p in i){if((p!="FlashVars")&&_4.isFunction(i[p])){try{i[p]=_18;}catch(e){}}}});});}else{_7=function(_1c){_1c=_d(_1c);if(!_1c){return null;}var p;var _1e=_1c.path;if(_1c.vars){var a=[];for(p in _1c.vars){a.push(p+"="+_1c.vars[p]);}_1e+=((_1e.indexOf("?")==-1)?"?":"&")+a.join("&");}var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+_1e+"\" "+"id=\""+_1c.id+"\" "+"width=\""+_1c.width+"\" "+"height=\""+_1c.height+"\""+((_1c.style)?" style=\""+_1c.style+"\" ":"")+"swLiveConnect=\""+_1c.swLiveConnect+"\" "+"allowScriptAccess=\""+_1c.allowScriptAccess+"\" "+"allowNetworking=\""+_1c.allowNetworking+"\" "+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";if(_1c.params){for(p in _1c.params){s+=" "+p+"=\""+_1c.params[p]+"\"";}}s+=" />";return {id:_1c.id,markup:s};};_8=(function(){var _21=navigator.plugins["Shockwave Flash"];if(_21&&_21.description){var v=_21.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();}_6.embed.Flash=function(_23,_24){if(location.href.toLowerCase().indexOf("file://")>-1){throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");}this.available=_6.embed.Flash.available;this.minimumVersion=_23.minimumVersion||_9;this.id=null;this.movie=null;this.domNode=null;if(_24){_24=_4.byId(_24);}setTimeout(_4.hitch(this,function(){if(this.available&&this.available>=this.minimumVersion){if(_23&&_24){this.init(_23,_24);}}else{if(!this.available){this.onError("Flash is not installed.");}else{this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);}}}),100);};_4.extend(_6.embed.Flash,{onReady:function(_25){},onLoad:function(_26){},onError:function(msg){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie);},init:function(_28,_29){this.destroy();_29=_4.byId(_29||this.domNode);if(!_29){throw new Error("dojox.embed.Flash: no domNode reference has been passed.");}var p=0,_2b=false;this._poller=null;this._pollCount=0;this._pollMax=5;this.pollTime=100;if(_6.embed.Flash.initialized){this.id=_6.embed.Flash.place(_28,_29);this.domNode=_29;setTimeout(_4.hitch(this,function(){this.movie=this.byId(this.id,_28.doc);this.onReady(this.movie);this._poller=setInterval(_4.hitch(this,function(){try{p=this.movie.PercentLoaded();}catch(e){console.warn("this.movie.PercentLoaded() failed");}if(p==100){this._onload();}else{if(p==0&&this._pollCount++>this._pollMax){clearInterval(this._poller);throw new Error("Building SWF failed.");}}}),this.pollTime);}),1);}},_destroy:function(){try{this.domNode.removeChild(this.movie);}catch(e){}this.id=this.movie=this.domNode=null;},destroy:function(){if(!this.movie){return;}var _2c=_4.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});for(var p in this){if(!_2c[p]){delete this[p];}}if(this._poller){_4.connect(this,"onLoad",this,"_destroy");}else{this._destroy();}},byId:function(_2e,doc){doc=doc||document;if(doc.embeds[_2e]){return doc.embeds[_2e];}if(doc[_2e]){return doc[_2e];}if(window[_2e]){return window[_2e];}if(document[_2e]){return document[_2e];}return null;}});_4.mixin(_6.embed.Flash,{minSupported:8,available:_8.major,supported:(_8.major>=_8.required),minimumRequired:_8.required,version:_8,initialized:false,onInitialize:function(){_6.embed.Flash.initialized=true;},__ie_markup__:function(_30){return _7(_30);},proxy:function(obj,_32){_4.forEach((_4.isArray(_32)?_32:[_32]),function(_33){this[_33]=_4.hitch(this,function(){return (function(){return eval(this.movie.CallFunction("<invoke name=\""+_33+"\" returntype=\"javascript\">"+"<arguments>"+_4.map(arguments,function(_34){return __flash__toXML(_34);}).join("")+"</arguments>"+"</invoke>"));}).apply(this,arguments||[]);});},obj);}});if(_4.isIE){if(_4._initFired){var e=document.createElement("script");e.type="text/javascript";e.src=_4.moduleUrl("dojox","embed/IE/flash.js");document.getElementsByTagName("head")[0].appendChild(e);}else{document.write("<scr"+"ipt type=\"text/javascript\" src=\""+_4.moduleUrl("dojox","embed/IE/flash.js")+"\">"+"</scr"+"ipt>");}}else{_6.embed.Flash.place=function(_35,_36){var o=_7(_35);_36=_4.byId(_36);if(!_36){_36=_4.doc.createElement("div");_36.id=o.id+"-container";_4.body().appendChild(_36);}if(o){_36.innerHTML=o.markup;return o.id;}return null;};_6.embed.Flash.onInitialize();}})();}}};});