/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.date.HebrewDate"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.date.HebrewDate"]){_4._hasResource["dojox.date.HebrewDate"]=true;_4.provide("dojox.date.HebrewDate");_4.experimental("dojox.date.HebrewDate");_4.declare("dojox.date.HebrewDate",null,{TISHRI:0,HESHVAN:1,KISLEV:2,TEVET:3,SHEVAT:4,ADAR_1:5,ADAR:6,NISAN:7,IYAR:8,SIVAN:9,TAMUZ:10,AV:11,ELUL:12,_HOUR_PARTS:1080,_DAY_PARTS:24*1080,_MONTH_DAYS:29,_MONTH_FRACT:12*1080+793,_MONTH_PARTS:29*24*1080+12*1080+793,BAHARAD:11*1080+204,JAN_1_1_JULIAN_DAY:1721426,_MONTH_LENGTH:[[30,30,30],[29,29,30],[29,30,30],[29,29,29],[30,30,30],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29]],_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[147,148,149],[176,177,178],[206,207,208],[235,236,237],[265,266,267],[294,295,296],[324,325,326],[353,354,355]],LEAP_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[177,178,179],[206,207,208],[236,237,238],[265,266,267],[295,296,297],[324,325,326],[354,355,356],[383,384,385]],GREGORIAN_MONTH_COUNT:[[31,31,0,0],[28,29,31,31],[31,31,59,60],[30,30,90,91],[31,31,120,121],[30,30,151,152],[31,31,181,182],[31,31,212,213],[30,30,243,244],[31,31,273,274],[30,30,304,305],[31,31,334,335]],_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var _7=arguments.length;if(_7==0){var _8=new Date();var _9=this._computeHebrewFields(_8);this._date=_9[2];this._month=_9[1];this._year=_9[0];this._hours=_8.getHours();this._minutes=_8.getMinutes();this._seconds=_8.getSeconds();this._milliseconds=_8.getMilliseconds();this._day=_8.getDay();}else{if(_7==1){this._year=arguments[0].getFullYear();this._month=arguments[0].getMonth();this._date=arguments[0].getDate();this._hours=arguments[0].getHours();this._minutes=arguments[0].getMinutes();this._seconds=arguments[0].getSeconds();this._milliseconds=arguments[0].getMilliseconds();}else{if(_7>=3){this._year=parseInt(arguments[0]);this._month=parseInt(arguments[1]);this._date=parseInt(arguments[2]);if(!this.isLeapYear(this._year)&&this._month>=5){this._month++;}if(this._month>12||(!this.isLeapYear(this._year)&&this._month>11)){console.warn("the month is incorrect , set 0");this._month=0;}this._hours=(arguments[3]!=null)?parseInt(arguments[3]):0;this._minutes=(arguments[4]!=null)?parseInt(arguments[4]):0;this._seconds=(arguments[5]!=null)?parseInt(arguments[5]):0;this._milliseconds=(arguments[6]!=null)?parseInt(arguments[6]):0;}}}var _a=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){_a+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{_a+=this._MONTH_START[this._month][this._yearType(this._year)];}}_a+=(this._date-1);this._day=((_a+1)%7);},getDate:function(){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(_b){_b=parseInt(_b);if(_b>0){for(var _c=this.getDaysInHebrewMonth(this._month,this._year);_b>_c;_b-=_c,_c=this.getDaysInHebrewMonth(this._month,this._year)){this._month++;if(!this.isLeapYear(this._year)&&(this._month==5)){this._month++;}if(this._month>=13){this._year++;this._month-=13;}}this._date=_b;}else{for(_c=this.getDaysInHebrewMonth((this._month-1)>=0?(this._month-1):12,((this._month-1)>=0)?this._year:this._year-1);_b<=0;_c=this.getDaysInHebrewMonth((this._month-1)>=0?(this._month-1):12,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(!this.isLeapYear(this._year)&&this._month==5){this._month--;}if(this._month<0){this._year--;this._month+=13;}_b+=_c;}this._date=_b;}var _d=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){_d+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{_d+=this._MONTH_START[this._month][this._yearType(this._year)];}}_d+=(this._date-1);this._day=((_d+1)%7);return this;},setYear:function(_e){this._year=parseInt(_e);if(!this.isLeapYear(this._year)&&this._month==6){this._month--;}var _f=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){_f+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{_f+=this._MONTH_START[this._month][this._yearType(this._year)];}}_f+=(this._date-1);this._day=((_f+1)%7);return this;},setMonth:function(_10){var _11=parseInt(_10);if(!this.isLeapYear(this._year)&&_11>5){_11++;}if(_11>=0){while(_11>12){this._year++;_11-=13;if(!this.isLeapYear(this._year)&&_11>5){_11++;}}}else{while(_11<0){this._year--;_11+=13;if(!this.isLeapYear(this._year)&&_11<=5){_11--;}}}this._month=_11;var _12=this.getDaysInHebrewMonth(this._month,this._year);if(_12<this._date){this._date=_12;}var day=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){day+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{day+=this._MONTH_START[this._month][this._yearType(this._year)];}}day+=(this._date-1);this._day=((day+1)%7);return this;},setHours:function(){var _14=arguments.length;var _15=0;if(_14>=1){_15=parseInt(arguments[0]);}if(_14>=2){this._minutes=parseInt(arguments[1]);}if(_14>=3){this._seconds=parseInt(arguments[2]);}if(_14==4){this._milliseconds=parseInt(arguments[3]);}while(_15>=24){this._date++;var _16=this.getDaysInHebrewMonth(this._month,this._year);if(this._date>_16){this._month++;if(!this.isLeapYear(this._year)&&(this._month==5)){this._month++;}if(this._month>=13){this._year++;this._month-=13;}this._date-=_16;}_15-=24;}this._hours=_15;var day=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){day+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{day+=this._MONTH_START[this._month][this._yearType(this._year)];}}day+=(this._date-1);this._day=((day+1)%7);return this;},setMinutes:function(_18){while(_18>=60){this._hours++;if(this._hours>=24){this._date++;this._hours-=24;var _19=this.getDaysInHebrewMonth(this._month,this._year);if(this._date>_19){this._month++;if(!this.isLeapYear(this._year)&&(this._month==5)){this._month++;}if(this._month>=13){this._year++;this._month-=13;}this._date-=_19;}}_18-=60;}this._minutes=_18;var day=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){day+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{day+=this._MONTH_START[this._month][this._yearType(this._year)];}}day+=(this._date-1);this._day=((day+1)%7);return this;},setSeconds:function(_1b){while(_1b>=60){this._minutes++;if(this._minutes>=60){this._hours++;this._minutes-=60;if(this._hours>=24){this._date++;this._hours-=24;var _1c=this.getDaysInHebrewMonth(this._month,this._year);if(this._date>_1c){this._month++;if(!this.isLeapYear(this._year)&&(this._month==5)){this._month++;}if(this._month>=13){this._year++;this._month-=13;}this._date-=_1c;}}}_1b-=60;}this._seconds=_1b;var day=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){day+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{day+=this._MONTH_START[this._month][this._yearType(this._year)];}}day+=(this._date-1);this._day=((day+1)%7);return this;},setMilliseconds:function(_1e){while(_1e>=1000){this.setSeconds++;if(this.setSeconds>=60){this._minutes++;this._seconds-=60;if(this._minutes>=60){this._hours++;this._minutes-=60;if(this._hours>=24){this._date++;this._hours-=24;var _1f=this.getDaysInHebrewMonth(this._month,this._year);if(this._date>_1f){this._month++;if(!this.isLeapYear(this._year)&&(this._month==5)){this._month++;}if(this._month>=13){this._year++;this._month-=13;}this._date-=_1f;}}}}_1e-=1000;}this._milliseconds=_1e;var day=this._startOfYear(this._year);if(this._month!=0){if(this.isLeapYear(this._year)){day+=this.LEAP_MONTH_START[this._month][this._yearType(this._year)];}else{day+=this._MONTH_START[this._month][this._yearType(this._year)];}}day+=(this._date-1);this._day=((day+1)%7);return this;},toString:function(){return this._date+", "+((!this.isLeapYear(this._year)&&this._month>5)?this._month:(this._month+1))+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},valueOf:function(){return this.toGregorian().valueOf();},getDaysInHebrewMonth:function(_21,_22){switch(_21){case this.HESHVAN:case this.KISLEV:return this._MONTH_LENGTH[_21][this._yearType(_22)];default:return this._MONTH_LENGTH[_21][0];}},_yearType:function(_23){var _24=this._handleGetYearLength(Number(_23));if(_24>380){_24-=30;}switch(_24){case 353:return 0;case 354:return 1;case 355:return 2;}throw new Error("Illegal year length "+_24+" in year "+_23);},_handleGetYearLength:function(_25){return this._startOfYear(_25+1)-this._startOfYear(_25);},_startOfYear:function(_26){var _27=Math.floor((235*_26-234)/19);var _28=_27*this._MONTH_FRACT+this.BAHARAD;var day=_27*29+Math.floor(_28/this._DAY_PARTS);_28%=this._DAY_PARTS;var wd=day%7;if(wd==2||wd==4||wd==6){day+=1;wd=day%7;}if(wd==1&&_28>15*this._HOUR_PARTS+204&&!this.isLeapYear(_26)){day+=2;}else{if(wd==0&&_28>21*this._HOUR_PARTS+589&&this.isLeapYear(_26-1)){day+=1;}}return day;},isLeapYear:function(_2b){var x=(_2b*12+17)%19;return x>=((x<0)?-7:12);},fromGregorian:function(_2d){var _2e=this._computeHebrewFields(_2d);this._year=_2e[0];this._month=_2e[1];this._date=_2e[2];this._hours=_2d.getHours();this._milliseconds=_2d.getMilliseconds();this._minutes=_2d.getMinutes();this._seconds=_2d.getSeconds();return this;},_computeHebrewFields:function(_2f){var _30=this._getJulianDayFromGregorianDate(_2f);var d=_30-347997;var m=Math.floor((d*this._DAY_PARTS)/this._MONTH_PARTS);var _33=Math.floor((19*m+234)/235)+1;var ys=this._startOfYear(_33);var _35=(d-ys);while(_35<1){_33--;ys=this._startOfYear(_33);_35=d-ys;}var _36=this._yearType(_33);var _37=this.isLeapYear(_33)?this.LEAP_MONTH_START:this._MONTH_START;var _38=0;while(_35>_37[_38][_36]){_38++;}_38--;var _39=_35-_37[_38][_36];return [_33,_38,_39];},toGregorian:function(){var _3a=this._year;var _3b=this._month;var _3c=this._date;var day=this._startOfYear(_3a);if(_3b!=0){if(this.isLeapYear(_3a)){day+=this.LEAP_MONTH_START[_3b][this._yearType(_3a)];}else{day+=this._MONTH_START[_3b][this._yearType(_3a)];}}var _3e=(_3c+day+347997);var _3f=_3e-this.JAN_1_1_JULIAN_DAY;var rem=new Array(1);var _41=this._floorDivide(_3f,146097,rem);var _42=this._floorDivide(rem[0],36524,rem);var n4=this._floorDivide(rem[0],1461,rem);var n1=this._floorDivide(rem[0],365,rem);var _45=400*_41+100*_42+4*n4+n1;var _46=rem[0];if(_42==4||n1==4){_46=365;}else{++_45;}var _47=!(_45%4)&&(_45%100||!(_45%400));var _48=0;var _49=_47?60:59;if(_46>=_49){_48=_47?1:2;}var _4a=Math.floor((12*(_46+_48)+6)/367);var _4b=_46-this.GREGORIAN_MONTH_COUNT[_4a][_47?3:2]+1;return new Date(_45,_4a,_4b,this._hours,this._minutes,this._seconds,this._milliseconds);},_floorDivide:function(_4c,_4d,_4e){if(_4c>=0){_4e[0]=(_4c%_4d);return Math.floor(_4c/_4d);}var _4f=Math.floor(_4c/_4d);_4e[0]=_4c-(_4f*_4d);return _4f;},getDay:function(){var _50=this._year;var _51=this._month;var _52=this._date;var day=this._startOfYear(_50);if(_51!=0){if(this.isLeapYear(_50)){day+=this.LEAP_MONTH_START[_51][this._yearType(_50)];}else{day+=this._MONTH_START[_51][this._yearType(_50)];}}day+=_52-1;return (day+1)%7;},_getJulianDayFromGregorianDate:function(_54){var _55=_54.getFullYear();var _56=_54.getMonth();var d=_54.getDate();var _58=!(_55%4)&&(_55%100||!(_55%400));var y=_55-1;var _5a=365*y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400)+this.JAN_1_1_JULIAN_DAY-1;if(_56!=0){_5a+=this.GREGORIAN_MONTH_COUNT[_56][_58?3:2];}_5a+=d;return _5a;}});_6.date.HebrewDate.fromGregorian=function(_5b){var _5c=new _6.date.HebrewDate();return _5c.fromGregorian(_5b);};_6.date.HebrewDate.add=function(_5d,_5e,_5f){var _60=new _6.date.HebrewDate(_5d);switch(_5e){case "day":_60.setDate(_5d.getDate()+_5f);break;case "weekday":var day=_5d.getDay();if(((day+_5f)<5)&&((day+_5f)>0)){_60.setDate(_5d.getDate()+_5f);}else{var _62=0;var _63=0;if(day==5){day=4;_63=(_5f>0)?-1:1;}else{if(day==6){day=4;_63=(_5f>0)?-2:2;}}var add=(_5f>0)?(5-day-1):(0-day);var _65=_5f-add;var div=parseInt(_65/5);if((_65%5)!=0){_62=(_5f>0)?2:-2;}_62=_62+div*7+_65%5+add;_60.setDate(_5d.getDate()+_62+_63);}break;case "year":_60.setYear(_5d.getFullYear()+_5f);break;case "week":_5f*=7;_60.setDate(_5d.getDate()+_5f);break;case "month":var _67=_5d.getMonth();if(!_5d.isLeapYear(_5d.getFullYear())&&_67>5){_67--;}_60.setMonth(_67+_5f);break;case "hour":_60.setHours(_5d.getHours()+_5f);break;case "minute":_60.setMinutes(_5d.getMinutes()+_5f);break;case "second":_60.setSeconds(_5d.getSeconds()+_5f);break;case "millisecond":_60.setMilliseconds(_5d.getMilliseconds()+_5f);break;}return _60;};_6.date.HebrewDate.difference=function(_68,_69,_6a){_69=_69||new _6.date.HebrewDate();_6a=_6a||"day";var _6b=_68.getFullYear()-_69.getFullYear();var _6c=1;switch(_6a){case "weekday":var _6d=Math.round(_6.date.HebrewDate.difference(_68,_69,"day"));var _6e=parseInt(_6.date.HebrewDate.difference(_68,_69,"week"));var mod=_6d%7;if(mod==0){_6d=_6e*5;}else{var adj=0;var _71=_69.getDay();var _72=_68.getDay();_6e=parseInt(_6d/7);mod=_6d%7;var _73=new _6.date.HebrewDate(_69);_73.setDate(_73.getDate()+(_6e*7));var _74=_73.getDay();if(_6d>0){switch(true){case _71==5:adj=-1;break;case _71==6:adj=0;break;case _72==5:adj=-1;break;case _72==6:adj=-2;break;case (_74+mod)>5:adj=-2;}}else{if(_6d<0){switch(true){case _71==5:adj=0;break;case _71==6:adj=1;break;case _72==5:adj=2;break;case _72==6:adj=1;break;case (_74+mod)<0:adj=2;}}}_6d+=adj;_6d-=(_6e*2);}_6c=_6d;break;case "year":_6c=_6b;break;case "month":var _75=(_68.toGregorian()>_69.toGregorian())?_68:_69;var _76=(_68.toGregorian()>_69.toGregorian())?_69:_68;var _77=_75.getMonth();var _78=_76.getMonth();if(_6b==0){_6c=(!_68.isLeapYear(_68.getFullYear())&&_75.getMonth()>5&&_76.getMonth()<=5)?(_75.getMonth()-_76.getMonth()-1):(_75.getMonth()-_76.getMonth());}else{_6c=(!_76.isLeapYear(_76.getFullYear())&&_78<6)?(13-_78-1):(13-_78);_6c+=(!_75.isLeapYear(_75.getFullYear())&&_77>5)?(_77-1):_77;var i=_76.getFullYear()+1;var e=_75.getFullYear();for(i;i<e;i++){_6c+=_76.isLeapYear(i)?13:12;}}if(_68.toGregorian()<_69.toGregorian()){_6c=-_6c;}break;case "week":_6c=parseInt(_6.date.HebrewDate.difference(_68,_69,"day")/7);break;case "day":_6c/=24;case "hour":_6c/=60;case "minute":_6c/=60;case "second":_6c/=1000;case "millisecond":_6c*=_68.toGregorian().getTime()-_69.toGregorian().getTime();}return Math.round(_6c);};}}};});