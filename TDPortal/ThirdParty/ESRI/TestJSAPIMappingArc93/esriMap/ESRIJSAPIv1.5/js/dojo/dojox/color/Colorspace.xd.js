/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.color.Colorspace"],["require","dojox.math.matrix"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.color.Colorspace"]){_4._hasResource["dojox.color.Colorspace"]=true;_4.provide("dojox.color.Colorspace");_4.require("dojox.math.matrix");_6.color.Colorspace=new (function(){var _7=_6.color;var _8=_6.math.matrix;var _9=this;var _a={"2":{"E":{x:1/3,y:1/3,t:5400},"D50":{x:0.34567,y:0.3585,t:5000},"D55":{x:0.33242,y:0.34743,t:5500},"D65":{x:0.31271,y:0.32902,t:6500},"D75":{x:0.29902,y:0.31485,t:7500},"A":{x:0.44757,y:0.40745,t:2856},"B":{x:0.34842,y:0.35161,t:4874},"C":{x:0.31006,y:0.31616,t:6774},"9300":{x:0.2848,y:0.2932,t:9300},"F2":{x:0.37207,y:0.37512,t:4200},"F7":{x:0.31285,y:0.32918,t:6500},"F11":{x:0.38054,y:0.37691,t:4000}},"10":{"E":{x:1/3,y:1/3,t:5400},"D50":{x:0.34773,y:0.35952,t:5000},"D55":{x:0.33411,y:0.34877,t:5500},"D65":{x:0.31382,y:0.331,t:6500},"D75":{x:0.29968,y:0.3174,t:7500},"A":{x:0.45117,y:0.40594,t:2856},"B":{x:0.3498,y:0.3527,t:4874},"C":{x:0.31039,y:0.31905,t:6774},"F2":{x:0.37928,y:0.36723,t:4200},"F7":{x:0.31565,y:0.32951,t:6500},"F11":{x:0.38543,y:0.3711,t:4000}}};var _b={"Adobe RGB 98":[2.2,"D65",0.64,0.33,0.297361,0.21,0.71,0.627355,0.15,0.06,0.075285],"Apple RGB":[1.8,"D65",0.625,0.34,0.244634,0.28,0.595,0.672034,0.155,0.07,0.083332],"Best RGB":[2.2,"D50",0.7347,0.2653,0.228457,0.215,0.775,0.737352,0.13,0.035,0.034191],"Beta RGB":[2.2,"D50",0.6888,0.3112,0.303273,0.1986,0.7551,0.663786,0.1265,0.0352,0.032941],"Bruce RGB":[2.2,"D65",0.64,0.33,0.240995,0.28,0.65,0.683554,0.15,0.06,0.075452],"CIE RGB":[2.2,"E",0.735,0.265,0.176204,0.274,0.717,0.812985,0.167,0.009,0.010811],"ColorMatch RGB":[1.8,"D50",0.63,0.34,0.274884,0.295,0.605,0.658132,0.15,0.075,0.066985],"DON RGB 4":[2.2,"D50",0.696,0.3,0.27835,0.215,0.765,0.68797,0.13,0.035,0.03368],"ECI RGB":[1.8,"D50",0.67,0.33,0.32025,0.21,0.71,0.602071,0.14,0.08,0.077679],"EktaSpace PS5":[2.2,"D50",0.695,0.305,0.260629,0.26,0.7,0.734946,0.11,0.005,0.004425],"NTSC RGB":[2.2,"C",0.67,0.33,0.298839,0.21,0.71,0.586811,0.14,0.08,0.11435],"PAL/SECAM RGB":[2.2,"D65",0.64,0.33,0.222021,0.29,0.6,0.706645,0.15,0.06,0.071334],"Pro Photo RGB":[1.8,"D50",0.7347,0.2653,0.28804,0.1596,0.8404,0.711874,0.0366,0.0001,0.000086],"SMPTE/C RGB":[2.2,"D65",0.63,0.34,0.212395,0.31,0.595,0.701049,0.155,0.07,0.086556],"sRGB":[2.2,"D65",0.64,0.33,0.212656,0.3,0.6,0.715158,0.15,0.06,0.072186],"Wide Gamut RGB":[2.2,"D50",0.735,0.265,0.258187,0.115,0.826,0.724938,0.157,0.018,0.016875]};var _c={"XYZ scaling":{ma:[[1,0,0],[0,1,0],[0,0,1]],mai:[[1,0,0],[0,1,0],[0,0,1]]},"Bradford":{ma:[[0.8951,-0.7502,0.0389],[0.2664,1.7135,-0.0685],[-0.1614,0.0367,1.0296]],mai:[[0.986993,0.432305,-0.008529],[-0.147054,0.51836,0.040043],[0.159963,0.049291,0.968487]]},"Von Kries":{ma:[[0.40024,-0.2263,0],[0.7076,1.16532,0],[-0.08081,0.0457,0.91822]],mai:[[1.859936,0.361191,0],[-1.129382,0.638812,0],[0.219897,-0.000006,1.089064]]}};var _d={"XYZ":{"xyY":function(_e,_f){_f=_4.mixin({whitepoint:"D65",observer:"10",useApproximation:true},_f||{});var wp=_9.whitepoint(_f.whitepoint,_f.observer);var sum=_e.X+_e.Y+_e.Z;if(sum==0){var x=wp.x,y=wp.y;}else{var x=_e.X/sum,y=_e.Y/sum;}return {x:x,y:y,Y:_e.Y};},"Lab":function(xyz,_15){_15=_4.mixin({whitepoint:"D65",observer:"10",useApproximation:true},_15||{});var _16=_9.kappa(_15.useApproximation),_17=_9.epsilon(_15.useApproximation);var wp=_9.whitepoint(_15.whitepoint,_15.observer);var xr=xyz.X/wp.x,yr=xyz.Y/wp.y,zr=xyz.z/wp.z;var fx=(xr>_17)?Math.pow(xr,1/3):(_16*xr+16)/116;var fy=(yr>_17)?Math.pow(yr,1/3):(_16*yr+16)/116;var fz=(zr>_17)?Math.pow(zr,1/3):(_16*zr+16)/116;var L=116*fy-16,a=500*(fx-fy),b=200*(fy-fz);return {L:L,a:a,b:b};},"Luv":function(xyz,_23){_23=_4.mixin({whitepoint:"D65",observer:"10",useApproximation:true},_23||{});var _24=_9.kappa(_23.useApproximation),_25=_9.epsilon(_23.useApproximation);var wp=_9.whitepoint(_23.whitepoint,_23.observer);var ud=(4*xyz.X)/(xyz.X+15*xyz.Y+3*xyz.Z);var vd=(9*xyz.Y)/(xyz.X+15*xyz.Y+3*xyz.Z);var udr=(4*wp.x)/(wp.x+15*wp.y+3*wp.z);var vdr=(9*wp.y)/(wp.x+15*wp.y+3*wp.z);var yr=xyz.Y/wp.y;var L=(yr>_25)?116*Math.pow(yr,1/3)-16:_24*yr;var u=13*L*(ud-udr);var v=13*L*(vd-vdr);return {L:L,u:u,v:v};}},"xyY":{"XYZ":function(xyY){if(xyY.y==0){var X=0,Y=0,Z=0;}else{var X=(xyY.x*xyY.Y)/xyY.y;var Y=xyY.Y;var Z=((1-xyY.x-xyY.y)*xyY.Y)/xyY.y;}return {X:X,Y:Y,Z:Z};}},"Lab":{"XYZ":function(lab,_34){_34=_4.mixin({whitepoint:"D65",observer:"10",useApproximation:true},_34||{});var b=_34.useApproximation,_36=_9.kappa(b),_37=_9.epsilon(b);var wp=_9.whitepoint(_34.whitepoint,_34.observer);var yr=(lab.L>(_36*_37))?Math.pow((lab.L+16)/116,3):lab.L/_36;var fy=(yr>_37)?(lab.L+16)/116:(_36*yr+16)/116;var fx=(lab.a/500)+fy;var fz=fy-(lab.b/200);var _3d=Math.pow(fx,3),_3e=Math.pow(fz,3);var xr=(_3d>_37)?_3d:(116*fx-16)/_36;var zr=(_3e>_37)?_3e:(116*fz-16)/_36;return {X:xr*wp.x,Y:yr*wp.y,Z:zr*wp.z};},"LCHab":function(lab){var L=lab.L,C=Math.pow(lab.a*lab.a+lab.b*lab.b,0.5),H=Math.atan(lab.b,lab.a)*(180/Math.PI);if(H<0){H+=360;}if(H<360){H-=360;}return {L:L,C:C,H:H};}},"LCHab":{"Lab":function(lch){var _46=lch.H*(Math.PI/180),L=lch.L,a=lch.C/Math.pow(Math.pow(Math.tan(_46),2)+1,0.5);if(90<lchH&&lch.H<270){a=-a;}var b=Math.pow(Math.pow(lch.C,2)-Math.pow(a,2),0.5);if(lch.H>180){b=-b;}return {L:L,a:a,b:b};}},"Luv":{"XYZ":function(Luv,_4b){_4b=_4.mixin({whitepoint:"D65",observer:"10",useApproximation:true},_4b||{});var b=_4b.useApproximation,_4d=_9.kappa(b),_4e=_9.epsilon(b);var wp=_9.whitepoint(_4b.whitepoint,_4b.observer);var uz=(4*wp.x)/(wp.x+15*wp.y+3*wp.z);var vz=(9*wp.y)/(wp.x+15*wp.y+3*wp.z);var Y=(Luv.L>_4d*_4e)?Math.pow((Luv.L+16)/116,3):Luv.L/_4d;var a=(1/3)*(((52*Luv.L)/(Luv.u+13*Luv.L*uz))-1);var b=-5*Y,c=-(1/3),d=Y*(((39*Luv.L)/(Luv.v+13*Luv.L*vz))-5);var X=(d-b)/(a-c),Z=X*a+b;return {X:X,Y:Y,Z:Z};},"LCHuv":function(Luv){var L=Luv.L,C=Math.pow(Luv.u*Luv.u+Luv.v*Luv*v,0.5),H=Math.atan(Luv.v,Luv.u)*(180/Math.PI);if(H<0){H+=360;}if(H>360){H-=360;}return {L:L,C:C,H:H};}},"LCHuv":{"Luv":function(LCH){var _5d=LCH.H*(Math.PI/180);var L=LCH.L,u=LCH.C/Math.pow(Math.pow(Math.tan(_5d),2)+1,0.5);var v=Math.pow(LCH.C*LCH.C-u*u,0.5);if(90<LCH.H&&LCH.H>270){u*=-1;}if(LCH.H>180){v*=-1;}return {L:L,u:u,v:v};}}};var _61={"CMY":{"CMYK":function(obj,_63){return _7.fromCmy(obj).toCmyk();},"HSL":function(obj,_65){return _7.fromCmy(obj).toHsl();},"HSV":function(obj,_67){return _7.fromCmy(obj).toHsv();},"Lab":function(obj,_69){return _d["XYZ"]["Lab"](_7.fromCmy(obj).toXYZ(_69));},"LCHab":function(obj,_6b){return _d["Lab"]["LCHab"](_61["CMY"]["Lab"](obj));},"LCHuv":function(obj,_6d){return _d["LCHuv"]["Luv"](_d["Luv"]["XYZ"](_7.fromCmy(obj).toXYZ(_6d)));},"Luv":function(obj,_6f){return _d["Luv"]["XYZ"](_7.fromCmy(obj).toXYZ(_6f));},"RGB":function(obj,_71){return _7.fromCmy(obj);},"XYZ":function(obj,_73){return _7.fromCmy(obj).toXYZ(_73);},"xyY":function(obj,_75){return _d["XYZ"]["xyY"](_7.fromCmy(obj).toXYZ(_75));}},"CMYK":{"CMY":function(obj,_77){return _7.fromCmyk(obj).toCmy();},"HSL":function(obj,_79){return _7.fromCmyk(obj).toHsl();},"HSV":function(obj,_7b){return _7.fromCmyk(obj).toHsv();},"Lab":function(obj,_7d){return _d["XYZ"]["Lab"](_7.fromCmyk(obj).toXYZ(_7d));},"LCHab":function(obj,_7f){return _d["Lab"]["LCHab"](_61["CMYK"]["Lab"](obj));},"LCHuv":function(obj,_81){return _d["LCHuv"]["Luv"](_d["Luv"]["XYZ"](_7.fromCmyk(obj).toXYZ(_81)));},"Luv":function(obj,_83){return _d["Luv"]["XYZ"](_7.fromCmyk(obj).toXYZ(_83));},"RGB":function(obj,_85){return _7.fromCmyk(obj);},"XYZ":function(obj,_87){return _7.fromCmyk(obj).toXYZ(_87);},"xyY":function(obj,_89){return _d["XYZ"]["xyY"](_7.fromCmyk(obj).toXYZ(_89));}},"HSL":{"CMY":function(obj,_8b){return _7.fromHsl(obj).toCmy();},"CMYK":function(obj,_8d){return _7.fromHsl(obj).toCmyk();},"HSV":function(obj,_8f){return _7.fromHsl(obj).toHsv();},"Lab":function(obj,_91){return _d["XYZ"]["Lab"](_7.fromHsl(obj).toXYZ(_91));},"LCHab":function(obj,_93){return _d["Lab"]["LCHab"](_61["CMYK"]["Lab"](obj));},"LCHuv":function(obj,_95){return _d["LCHuv"]["Luv"](_d["Luv"]["XYZ"](_7.fromHsl(obj).toXYZ(_95)));},"Luv":function(obj,_97){return _d["Luv"]["XYZ"](_7.fromHsl(obj).toXYZ(_97));},"RGB":function(obj,_99){return _7.fromHsl(obj);},"XYZ":function(obj,_9b){return _7.fromHsl(obj).toXYZ(_9b);},"xyY":function(obj,_9d){return _d["XYZ"]["xyY"](_7.fromHsl(obj).toXYZ(_9d));}},"HSV":{"CMY":function(obj,_9f){return _7.fromHsv(obj).toCmy();},"CMYK":function(obj,_a1){return _7.fromHsv(obj).toCmyk();},"HSL":function(obj,_a3){return _7.fromHsv(obj).toHsl();},"Lab":function(obj,_a5){return _d["XYZ"]["Lab"](_7.fromHsv(obj).toXYZ(_a5));},"LCHab":function(obj,_a7){return _d["Lab"]["LCHab"](_61["CMYK"]["Lab"](obj));},"LCHuv":function(obj,_a9){return _d["LCHuv"]["Luv"](_d["Luv"]["XYZ"](_7.fromHsv(obj).toXYZ(_a9)));},"Luv":function(obj,_ab){return _d["Luv"]["XYZ"](_7.fromHsv(obj).toXYZ(_ab));},"RGB":function(obj,_ad){return _7.fromHsv(obj);},"XYZ":function(obj,_af){return _7.fromHsv(obj).toXYZ(_af);},"xyY":function(obj,_b1){return _d["XYZ"]["xyY"](_7.fromHsv(obj).toXYZ(_b1));}},"Lab":{"CMY":function(obj,_b3){return _7.fromXYZ(_d["Lab"]["XYZ"](obj,_b3)).toCmy();},"CMYK":function(obj,_b5){return _7.fromXYZ(_d["Lab"]["XYZ"](obj,_b5)).toCmyk();},"HSL":function(obj,_b7){return _7.fromXYZ(_d["Lab"]["XYZ"](obj,_b7)).toHsl();},"HSV":function(obj,_b9){return _7.fromXYZ(_d["Lab"]["XYZ"](obj,_b9)).toHsv();},"LCHab":function(obj,_bb){return _d["Lab"]["LCHab"](obj,_bb);},"LCHuv":function(obj,_bd){return _d["Luv"]["LCHuv"](_d["Lab"]["XYZ"](obj,_bd),_bd);},"Luv":function(obj,_bf){return _d["XYZ"]["Luv"](_d["Lab"]["XYZ"](obj,_bf),_bf);},"RGB":function(obj,_c1){return _7.fromXYZ(_d["Lab"]["XYZ"](obj,_c1));},"XYZ":function(obj,_c3){return _d["Lab"]["XYZ"](obj,_c3);},"xyY":function(obj,_c5){return _d["XYZ"]["xyY"](_d["Lab"]["XYZ"](obj,_c5),_c5);}},"LCHab":{"CMY":function(obj,_c7){return _7.fromXYZ(_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_c7),_c7).toCmy();},"CMYK":function(obj,_c9){return _7.fromXYZ(_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_c9),_c9).toCmyk();},"HSL":function(obj,_cb){return _7.fromXYZ(_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_cb),_cb).toHsl();},"HSV":function(obj,_cd){return _7.fromXYZ(_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_cd),_cd).toHsv();},"Lab":function(obj,_cf){return _d["Lab"]["LCHab"](obj,_cf);},"LCHuv":function(obj,_d1){return _d["Luv"]["LCHuv"](_d["XYZ"]["Luv"](_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_d1),_d1),_d1);},"Luv":function(obj,_d3){return _d["XYZ"]["Luv"](_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_d3),_d3);},"RGB":function(obj,_d5){return _7.fromXYZ(_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_d5),_d5);},"XYZ":function(obj,_d7){return _d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj,_d7),_d7);},"xyY":function(obj,_d9){return _d["XYZ"]["xyY"](_d["Lab"]["XYZ"](_d["LCHab"]["Lab"](obj),_d9),_d9);}},"LCHuv":{"CMY":function(obj,_db){return _7.fromXYZ(_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_db),_db).toCmy();},"CMYK":function(obj,_dd){return _7.fromXYZ(_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_dd),_dd).toCmyk();},"HSL":function(obj,_df){return _7.fromXYZ(_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_df),_df).toHsl();},"HSV":function(obj,_e1){return _7.fromXYZ(_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_e1),_e1).toHsv();},"Lab":function(obj,_e3){return _d["XYZ"]["Lab"](_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_e3),_e3);},"LCHab":function(obj,_e5){return _d["Lab"]["LCHab"](_d["XYZ"]["Lab"](_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_e5),_e5),_e5);},"Luv":function(obj,_e7){return _d["LCHuv"]["Luv"](obj,_e7);},"RGB":function(obj,_e9){return _7.fromXYZ(_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_e9),_e9);},"XYZ":function(obj,_eb){return _d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_eb);},"xyY":function(obj,_ed){return _d["XYZ"]["xyY"](_d["Luv"]["XYZ"](_d["LCHuv"]["Luv"](obj),_ed),_ed);}},"Luv":{"CMY":function(obj,_ef){return _7.fromXYZ(_d["Luv"]["XYZ"](obj,_ef),_ef).toCmy();},"CMYK":function(obj,_f1){return _7.fromXYZ(_d["Luv"]["XYZ"](obj,_f1),_f1).toCmyk();},"HSL":function(obj,_f3){return _7.fromXYZ(_d["Luv"]["XYZ"](obj,_f3),_f3).toHsl();},"HSV":function(obj,_f5){return _7.fromXYZ(_d["Luv"]["XYZ"](obj,_f5),_f5).toHsv();},"Lab":function(obj,_f7){return _d["XYZ"]["Lab"](_d["Luv"]["XYZ"](obj,_f7),_f7);},"LCHab":function(obj,_f9){return _d["Lab"]["LCHab"](_d["XYZ"]["Lab"](_d["Luv"]["XYZ"](obj,_f9),_f9),_f9);},"LCHuv":function(obj,_fb){return _d["Luv"]["LCHuv"](obj,_fb);},"RGB":function(obj,_fd){return _7.fromXYZ(_d["Luv"]["XYZ"](obj,_fd),_fd);},"XYZ":function(obj,_ff){return _d["Luv"]["XYZ"](obj,_ff);},"xyY":function(obj,_101){return _d["XYZ"]["xyY"](_d["Luv"]["XYZ"](obj,_101),_101);}},"RGB":{"CMY":function(obj,_103){return obj.toCmy();},"CMYK":function(obj,_105){return obj.toCmyk();},"HSL":function(obj,_107){return obj.toHsl();},"HSV":function(obj,_109){return obj.toHsv();},"Lab":function(obj,_10b){return _d["XYZ"]["Lab"](obj.toXYZ(_10b),_10b);},"LCHab":function(obj,_10d){return _d["LCHab"]["Lab"](_d["XYZ"]["Lab"](obj.toXYZ(_10d),_10d),_10d);},"LCHuv":function(obj,_10f){return _d["LCHuv"]["Luv"](_d["XYZ"]["Luv"](obj.toXYZ(_10f),_10f),_10f);},"Luv":function(obj,_111){return _d["XYZ"]["Luv"](obj.toXYZ(_111),_111);},"XYZ":function(obj,_113){return obj.toXYZ(_113);},"xyY":function(obj,_115){return _d["XYZ"]["xyY"](obj.toXYZ(_115),_115);}},"XYZ":{"CMY":function(obj,_117){return _7.fromXYZ(obj,_117).toCmy();},"CMYK":function(obj,_119){return _7.fromXYZ(obj,_119).toCmyk();},"HSL":function(obj,_11b){return _7.fromXYZ(obj,_11b).toHsl();},"HSV":function(obj,_11d){return _7.fromXYZ(obj,_11d).toHsv();},"Lab":function(obj,_11f){return _d["XYZ"]["Lab"](obj,_11f);},"LCHab":function(obj,_121){return _d["Lab"]["LCHab"](_d["XYZ"]["Lab"](obj,_121),_121);},"LCHuv":function(obj,_123){return _d["Luv"]["LCHuv"](_d["XYZ"]["Luv"](obj,_123),_123);},"Luv":function(obj,_125){return _d["XYZ"]["Luv"](obj,_125);},"RGB":function(obj,_127){return _7.fromXYZ(obj,_127);},"xyY":function(obj,_129){return _d["XYZ"]["xyY"](_7.fromXYZ(obj,_129),_129);}},"xyY":{"CMY":function(obj,_12b){return _7.fromXYZ(_d["xyY"]["XYZ"](obj,_12b),_12b).toCmy();},"CMYK":function(obj,_12d){return _7.fromXYZ(_d["xyY"]["XYZ"](obj,_12d),_12d).toCmyk();},"HSL":function(obj,_12f){return _7.fromXYZ(_d["xyY"]["XYZ"](obj,_12f),_12f).toHsl();},"HSV":function(obj,_131){return _7.fromXYZ(_d["xyY"]["XYZ"](obj,_131),_131).toHsv();},"Lab":function(obj,_133){return _d["Lab"]["XYZ"](_d["xyY"]["XYZ"](obj,_133),_133);},"LCHab":function(obj,_135){return _d["LCHab"]["Lab"](_d["Lab"]["XYZ"](_d["xyY"]["XYZ"](obj,_135),_135),_135);},"LCHuv":function(obj,_137){return _d["LCHuv"]["Luv"](_d["Luv"]["XYZ"](_d["xyY"]["XYZ"](obj,_137),_137),_137);},"Luv":function(obj,_139){return _d["Luv"]["XYZ"](_d["xyY"]["XYZ"](obj,_139),_139);},"RGB":function(obj,_13b){return _7.fromXYZ(_d["xyY"]["XYZ"](obj,_13b),_13b);},"XYZ":function(obj,_13d){return _d["xyY"]["XYZ"](obj,_13d);}}};this.whitepoint=function(_13e,_13f){_13f=_13f||"10";var x=0,y=0,t=0;if(_a[_13f]&&_a[_13f][_13e]){x=_a[_13f][_13e].x;y=_a[_13f][_13e].y;t=_a[_13f][_13e].t;}else{console.warn("dojox.color.Colorspace::whitepoint: either the observer or the whitepoint name was not found. ",_13f,_13e);}var wp={x:x,y:y,z:(1-x-y),t:t,Y:1};return this.convert(wp,"xyY","XYZ");};this.tempToWhitepoint=function(t){if(t<4000){console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures less than 4000K. (Passed ",t,").");return {x:0,y:0};}if(t>25000){console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures greater than 25000K. (Passed ",t,").");return {x:0,y:0};}var t1=t,t2=t*t,t3=t2*t;var ten9=Math.pow(10,9),ten6=Math.pow(10,6),ten3=Math.pow(10,3);if(t<=7000){var x=(-4.607*ten9/t3)+(2.9678*ten6/t2)+(0.09911*ten3/t)+0.2444063;}else{var x=(-2.0064*ten9/t3)+(1.9018*ten6/t2)+(0.24748*ten3/t)+0.23704;}var y=-3*x*x+2.87*x-0.275;return {x:x,y:y};};this.primaries=function(_14d){_14d=_4.mixin({profile:"sRGB",whitepoint:"D65",observer:"10",adaptor:"Bradford"},_14d||{});var m=[];if(_b[_14d.profile]){m=_b[_14d.profile].slice(0);}else{console.warn("dojox.color.Colorspace::primaries: the passed profile was not found.  ","Available profiles include: ",_b,".  The profile passed was ",_14d.profile);}var _14f={name:_14d.profile,gamma:m[0],whitepoint:m[1],xr:m[2],yr:m[3],Yr:m[4],xg:m[5],yg:m[6],Yg:m[7],xb:m[8],yb:m[9],Yb:m[10]};if(_14d.whitepoint!=_14f.whitepoint){var r=this.convert(this.adapt({color:this.convert({x:xr,y:yr,Y:Yr},"xyY","XYZ"),adaptor:_14d.adaptor,source:_14f.whitepoint,destination:_14d.whitepoint}),"XYZ","xyY");var g=this.convert(this.adapt({color:this.convert({x:xg,y:yg,Y:Yg},"xyY","XYZ"),adaptor:_14d.adaptor,source:_14f.whitepoint,destination:_14d.whitepoint}),"XYZ","xyY");var b=this.convert(this.adapt({color:this.convert({x:xb,y:yb,Y:Yb},"xyY","XYZ"),adaptor:_14d.adaptor,source:_14f.whitepoint,destination:_14d.whitepoint}),"XYZ","xyY");_14f=_4.mixin(_14f,{xr:r.x,yr:r.y,Yr:r.Y,xg:g.x,yg:g.y,Yg:g.Y,xb:b.x,yb:b.y,Yb:b.Y,whitepoint:_14d.whitepoint});}return _4.mixin(_14f,{zr:1-_14f.xr-_14f.yr,zg:1-_14f.xg-_14f.yg,zb:1-_14f.xb-_14f.yb});};this.adapt=function(_153){if(!_153.color||!_153.source){console.error("dojox.color.Colorspace::adapt: color and source arguments are required. ",_153);}_153=_4.mixin({adaptor:"Bradford",destination:"D65"},_153);var swp=this.whitepoint(_153.source);var dwp=this.whitepoint(_153.destination);if(_c[_153.adaptor]){var ma=_c[_153.adaptor].ma;var mai=_c[_153.adaptor].mai;}else{console.warn("dojox.color.Colorspace::adapt: the passed adaptor '",_153.adaptor,"' was not found.");}var dSrc=_8.multiply([[swp.x,swp.y,swp.z]],ma);var _159=_8.multiply([[dwp.x,dwp.y,dwp.z]],ma);var _15a=[[_159[0][0]/dSrc[0][0],0,0],[0,_159[0][1]/dSrc[0][1],0],[0,0,_159[0][2]/dSrc[0][2]]];var m=_8.multiply(_8.multiply(ma,_15a),mai);var r=_8.multiply([[_153.color.X,_153.color.Y,_153.color.Z]],m)[0];return {X:r[0],Y:r[1],Z:r[2]};};this.matrix=function(to,_15e){var wp=this.whitepoint(_15e.whitepoint);var Xr=p.xr/p.yr,Yr=1,Zr=(1-p.xr-p.yr)/p.yr;var Xg=p.xg/p.yg,Yg=1,Zg=(1-p.xg-p.yg)/p.yg;var Xb=p.xb/p.yb,Yb=1,Zr=(1-p.xb-p.yb)/p.yb;var m1=[[Xr,Yr,Zr],[Xg,Yg,Zg],[Xb,Yb,Zb]];var m2=[[wp.X,wp.Y,wp.Z]];var sm=_6.math.matrix.multiply(m2,_6.math.matrix.inverse(m1));var Sr=sm[0][0],Sg=sm[0][1],Sb=sm[0][2];var _16e=[[Sr*Xr,Sr*Yr,Sr*Zr],[Sg*Xg,Sg*Yg,Sg*Zg],[Sb*Xb,Sb*Yb,Sb*Zb]];if(to=="RGB"){return _6.math.inverse(_16e);}return _16e;};this.epsilon=function(_16f){return (_16f||typeof (_16f)=="undefined")?0.008856:216/24289;};this.kappa=function(_170){return (_170||typeof (_170)=="undefined")?903.3:24389/27;};this.convert=function(_171,from,to,_174){if(_61[from]&&_61[from][to]){return _61[from][to](obj,_174);}console.warn("dojox.color.Colorspace::convert: Can't convert ",_171," from ",from," to ",to,".");};})();_4.mixin(_6.color,{fromXYZ:function(xyz,_176){_176=_176||{};var p=_6.color.Colorspace.primaries(_176);var m=_6.color.Colorspace.matrix("RGB",p);var rgb=_6.math.matrix.mutliply([[xyz.X,xyz.Y,xyz.Z]],m);var r=rgb[0][0],g=rgb[0][1],b=rgb[0][2];if(p.profile=="sRGB"){var R=(r>0.0031308)?(1.055*Math.pow(r,1/2.4))-0.055:12.92*r;var G=(g>0.0031308)?(1.055*Math.pow(g,1/2.4))-0.055:12.92*g;var B=(b>0.0031308)?(1.055*Math.pow(b,1/2.4))-0.055:12.92*b;}else{var R=Math.pow(r,1/p.gamma),G=Math.pow(g,1/p.gamma),B=Math.pow(b,1/p.gamma);}return new _6.color.Color({r:Math.floor(R*255),g:Math.floor(G*255),b:Math.floor(B*255)});}});_4.extend(_6.color.Color,{toXYZ:function(_180){_180=_180||{};var p=_6.color.Colorspace.primaries(_180);var m=_6.color.Colorspace.matrix("XYZ",p);var _r=this.r/255,_g=this.g/255,_b=this.b/255;if(p.profile=="sRGB"){var r=(_r>0.04045)?Math.pow(((_r+0.055)/1.055),2.4):_r/12.92;var g=(_g>0.04045)?Math.pow(((_g+0.055)/1.055),2.4):_g/12.92;var b=(_b>0.04045)?Math.pow(((_b+0.055)/1.055),2.4):_b/12.92;}else{var r=Math.pow(_r,p.gamma),g=Math.pow(_g,p.gamma),b=Math.pow(_b,p.gamma);}var xyz=_6.math.matrix([[r,g,b]],m);return {X:xyz[0][0],Y:xyz[0][1],Z:xyz[0][2]};}});}}};});