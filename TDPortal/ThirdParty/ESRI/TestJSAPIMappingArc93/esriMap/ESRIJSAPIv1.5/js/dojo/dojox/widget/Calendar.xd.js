/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.widget.Calendar"],["require","dijit._Calendar"],["require","dijit._Container"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.widget.Calendar"]){_4._hasResource["dojox.widget.Calendar"]=true;_4.provide("dojox.widget.Calendar");_4.experimental("dojox.widget.Calendar");_4.require("dijit._Calendar");_4.require("dijit._Container");_4.declare("dojox.widget._CalendarBase",[_5._Widget,_5._Templated,_5._Container],{templateString:"<div class=\"dojoxCalendar\">\r\n    <div tabindex=\"0\" class=\"dojoxCalendarContainer\" style=\"visibility: visible; width: 180px; heightL 138px;\" dojoAttachPoint=\"container\">\r\n\t\t<div style=\"display:none\">\r\n\t\t\t<div dojoAttachPoint=\"previousYearLabelNode\"></div>\r\n\t\t\t<div dojoAttachPoint=\"nextYearLabelNode\"></div>\r\n\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\"></div>\r\n\t\t</div>\r\n        <div class=\"dojoxCalendarHeader\">\r\n            <div>\r\n                <div class=\"dojoxCalendarDecrease\" dojoAttachPoint=\"decrementMonth\"></div>\r\n            </div>\r\n            <div class=\"\">\r\n                <div class=\"dojoxCalendarIncrease\" dojoAttachPoint=\"incrementMonth\"></div>\r\n            </div>\r\n            <div class=\"dojoxCalendarTitle\" dojoAttachPoint=\"header\" dojoAttachEvent=\"onclick: onHeaderClick\">\r\n            </div>\r\n        </div>\r\n        <div class=\"dojoxCalendarBody\" dojoAttachPoint=\"containerNode\"></div>\r\n        <div class=\"\">\r\n            <div class=\"dojoxCalendarFooter\" dojoAttachPoint=\"footer\">                        \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n",_views:null,useFx:true,widgetsInTemplate:true,value:new Date(),constraints:null,footerFormat:"medium",constructor:function(){this._views=[];},postMixInProperties:function(){var c=this.constraints;if(c){var _8=_4.date.stamp.fromISOString;if(typeof c.min=="string"){c.min=_8(c.min);}if(typeof c.max=="string"){c.max=_8(c.max);}}},postCreate:function(){this._height=_4.style(this.containerNode,"height");this.displayMonth=new Date(this.attr("value"));var _9={parent:this,_getValueAttr:_4.hitch(this,function(){return new Date(this.displayMonth);}),_getConstraintsAttr:_4.hitch(this,function(){return this.constraints;}),getLang:_4.hitch(this,function(){return this.lang;}),isDisabledDate:_4.hitch(this,this.isDisabledDate),getClassForDate:_4.hitch(this,this.getClassForDate),addFx:this.useFx?_4.hitch(this,this.addFx):function(){}};_4.forEach(this._views,function(_a){var _b=new _a(_9,_4.create("div"));this.addChild(_b);var _c=_b.getHeader();if(_c){this.header.appendChild(_c);_4.style(_c,"display","none");}_4.style(_b.domNode,"visibility","hidden");_4.connect(_b,"onValueSelected",this,"_onDateSelected");_b.attr("value",this.attr("value"));},this);if(this._views.length<2){_4.style(this.header,"cursor","auto");}this.inherited(arguments);this._children=this.getChildren();this._currentChild=0;var _d=new Date();this.footer.innerHTML="Today: "+_4.date.locale.format(_d,{formatLength:this.footerFormat,selector:"date",locale:this.lang});_4.connect(this.footer,"onclick",this,"goToToday");var _e=this._children[0];_4.style(_e.domNode,"top","0px");_4.style(_e.domNode,"visibility","visible");var _f=_e.getHeader();if(_f){_4.style(_e.getHeader(),"display","");}_4[_e.useHeader?"removeClass":"addClass"](this.container,"no-header");_e.onDisplay();var _10=this;var _11=function(_12,_13,adj){_5.typematic.addMouseListener(_10[_12],_10,function(_15){if(_15>=0){_10._adjustDisplay(_13,adj);}},0.8,500);};_11("incrementMonth","month",1);_11("decrementMonth","month",-1);this._updateTitleStyle();},addFx:function(_16,_17){},_setValueAttr:function(_18){if(!_18["getFullYear"]){_18=_4.date.stamp.fromISOString(_18+"");}if(!this.value||_4.date.compare(_18,this.value)){_18=new Date(_18);this.displayMonth=new Date(_18);if(!this.isDisabledDate(_18,this.lang)){this.value=_18;this.onChange(_18);}this._children[this._currentChild].attr("value",this.value);return true;}return false;},isDisabledDate:function(_19,_1a){var c=this.constraints;var _1c=_4.date.compare;return c&&(c.min&&(_1c(c.min,_19,"date")>0)||(c.max&&_1c(c.max,_19,"date")<0));},onValueSelected:function(_1d){},_onDateSelected:function(_1e,_1f,_20){this.displayMonth=_1e;this.attr("value",_1e);if(!this._transitionVert(-1)){if(!_1f&&_1f!==0){_1f=this.attr("value");}this.onValueSelected(_1f);}},onChange:function(_21){},onHeaderClick:function(e){this._transitionVert(1);},goToToday:function(){this.attr("value",new Date());this.onValueSelected(this.attr("value"));},_transitionVert:function(_23){var _24=this._children[this._currentChild];var _25=this._children[this._currentChild+_23];if(!_25){return false;}_4.style(_25.domNode,"visibility","visible");var _26=_4.style(this.containerNode,"height");_25.attr("value",this.displayMonth);if(_24.header){_4.style(_24.header,"display","none");}if(_25.header){_4.style(_25.header,"display","");}_4.style(_25.domNode,"top",(_26*-1)+"px");_4.style(_25.domNode,"visibility","visible");this._currentChild+=_23;var _27=_26*_23;var _28=0;_4.style(_25.domNode,"top",(_27*-1)+"px");var _29=_4.animateProperty({node:_24.domNode,properties:{top:_27},onEnd:function(){_4.style(_24.domNode,"visibility","hidden");}});var _2a=_4.animateProperty({node:_25.domNode,properties:{top:_28},onEnd:function(){_25.onDisplay();}});_4[_25.useHeader?"removeClass":"addClass"](this.container,"no-header");_29.play();_2a.play();_24.onBeforeUnDisplay();_25.onBeforeDisplay();this._updateTitleStyle();return true;},_updateTitleStyle:function(){_4[this._currentChild<this._children.length-1?"addClass":"removeClass"](this.header,"navToPanel");},_slideTable:function(_2b,_2c,_2d){var _2e=_2b.domNode;var _2f=_2e.cloneNode(true);var _30=_4.style(_2e,"width");_2e.parentNode.appendChild(_2f);_4.style(_2e,"left",(_30*_2c)+"px");_2d();var _31=_4.animateProperty({node:_2f,properties:{left:_30*_2c*-1},duration:500,onEnd:function(){_2f.parentNode.removeChild(_2f);}});var _32=_4.animateProperty({node:_2e,properties:{left:0},duration:500});_31.play();_32.play();},_addView:function(_33){this._views.push(_33);},getClassForDate:function(_34,_35){},_adjustDisplay:function(_36,_37,_38){var _39=this._children[this._currentChild];var _3a=this.displayMonth=_39.adjustDate(this.displayMonth,_37);this._slideTable(_39,_37,function(){_39.attr("value",_3a);});}});_4.declare("dojox.widget._CalendarView",_5._Widget,{headerClass:"",useHeader:true,cloneClass:function(_3b,n,_3d){var _3e=_4.query(_3b,this.domNode)[0];if(!_3d){for(var i=0;i<n;i++){_3e.parentNode.appendChild(_3e.cloneNode(true));}}else{var _40=_4.query(_3b,this.domNode)[0];for(var i=0;i<n;i++){_3e.parentNode.insertBefore(_3e.cloneNode(true),_40);}}},_setText:function(_41,_42){while(_41.firstChild){_41.removeChild(_41.firstChild);}_41.appendChild(_4.doc.createTextNode(_42));},getHeader:function(){return this.header||(this.header=this.header=_4.create("span",{"class":this.headerClass}));},onValueSelected:function(_43){},adjustDate:function(_44,_45){return _4.date.add(_44,this.datePart,_45);},onDisplay:function(){},onBeforeDisplay:function(){},onBeforeUnDisplay:function(){}});_4.declare("dojox.widget._CalendarDay",null,{parent:null,constructor:function(){this._addView(_6.widget._CalendarDayView);}});_4.declare("dojox.widget._CalendarDayView",[_6.widget._CalendarView,_5._Templated],{templateString:"<div class=\"dijitCalendarDayLabels\" style=\"left: 0px;\" dojoAttachPoint=\"dayContainer\">\r\n\t<div dojoAttachPoint=\"header\">\r\n\t\t<div dojoAttachPoint=\"monthAndYearHeader\">\r\n\t\t\t<span dojoAttachPoint=\"monthLabelNode\" class=\"dojoxCalendarMonthLabelNode\"></span>\r\n\t\t\t<span dojoAttachPoint=\"headerComma\" class=\"dojoxCalendarComma\">,</span>\r\n\t\t\t<span dojoAttachPoint=\"yearLabelNode\" class=\"dojoxCalendarDayYearLabel\"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"margin: auto;\">\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"dijitCalendarDayLabelTemplate\"><div class=\"dijitCalendarDayLabel\"></div></td>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody dojoAttachEvent=\"onclick: _onDayClick\">\r\n\t\t\t<tr class=\"dijitCalendarWeekTemplate\">\r\n\t\t\t\t<td class=\"dojoxCalendarNextMonth dijitCalendarDateTemplate\">\r\n\t\t\t\t\t<div class=\"dijitCalendarDateLabel\"></div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>\r\n\t</table>\r\n</div>\r\n",datePart:"month",dayWidth:"narrow",postCreate:function(){this.cloneClass(".dijitCalendarDayLabelTemplate",6);this.cloneClass(".dijitCalendarDateTemplate",6);this.cloneClass(".dijitCalendarWeekTemplate",5);var _46=_4.date.locale.getNames("days",this.dayWidth,"standAlone",this.getLang());var _47=_4.cldr.supplemental.getFirstDayOfWeek(this.getLang());_4.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_48,i){this._setText(_48,_46[(i+_47)%7]);},this);},onDisplay:function(){if(!this._addedFx){this._addedFx=true;this.addFx(".dijitCalendarDateTemplate div",this.domNode);}},_onDayClick:function(e){var _4b=new Date(this.attr("value"));var p=e.target.parentNode;var c="dijitCalendar";var d=_4.hasClass(p,c+"PreviousMonth")?-1:(_4.hasClass(p,c+"NextMonth")?1:0);if(d){_4b=_4.date.add(_4b,"month",d);}_4b.setDate(e.target._date);if(this.isDisabledDate(_4b)){_4.stopEvent(e);return;}this.attr("value",_4b);this.parent._onDateSelected(_4b);},_setValueAttr:function(_4f){this._populateDays();},_populateDays:function(){var _50=this.attr("value");_50.setDate(1);var _51=_50.getDay();var _52=_4.date.getDaysInMonth(_50);var _53=_4.date.getDaysInMonth(_4.date.add(_50,"month",-1));var _54=new Date();var _55=this.attr("value");var _56=_4.cldr.supplemental.getFirstDayOfWeek(this.getLang());if(_56>_51){_56-=7;}_4.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_57,i){i+=_56;var _59=new Date(_50);var _5a,_5b="dijitCalendar",adj=0;if(i<_51){_5a=_53-_51+i+1;adj=-1;_5b+="Previous";}else{if(i>=(_51+_52)){_5a=i-_51-_52+1;adj=1;_5b+="Next";}else{_5a=i-_51+1;_5b+="Current";}}if(adj){_59=_4.date.add(_59,"month",adj);}_59.setDate(_5a);if(!_4.date.compare(_59,_54,"date")){_5b="dijitCalendarCurrentDate "+_5b;}if(!_4.date.compare(_59,_55,"date")){_5b="dijitCalendarSelectedDate "+_5b;}if(this.isDisabledDate(_59,this.getLang())){_5b=" dijitCalendarDisabledDate "+_5b;}var _5d=this.getClassForDate(_59,this.getLang());if(_5d){_5b+=_5d+" "+_5b;}_57.className=_5b+"Month dijitCalendarDateTemplate";_57.dijitDateValue=_59.valueOf();var _5e=_4.query(".dijitCalendarDateLabel",_57)[0];this._setText(_5e,_59.getDate());_5e._date=_5e.parentNode._date=_59.getDate();},this);var _5f=_4.date.locale.getNames("months","wide","standAlone",this.getLang());this._setText(this.monthLabelNode,_5f[_50.getMonth()]);this._setText(this.yearLabelNode,_50.getFullYear());}});_4.declare("dojox.widget._CalendarMonthYear",null,{constructor:function(){this._addView(_6.widget._CalendarMonthYearView);}});_4.declare("dojox.widget._CalendarMonthYearView",[_6.widget._CalendarView,_5._Templated],{templateString:"<div class=\"dojoxCal-MY-labels\" style=\"left: 0px;\"\t\r\n\tdojoAttachPoint=\"myContainer\" dojoAttachEvent=\"onclick: onClick\">\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"margin: auto;\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr class=\"dojoxCal-MY-G-Template\">\r\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-M-Template\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarMonthLabel\"></div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-M-Template\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarMonthLabel\"></div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-Y-Template\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarYearLabel\"></div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-Y-Template\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarYearLabel\"></div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t </tr>\r\n\t\t\t\t\t\t <tr class=\"dojoxCal-MY-btns\">\r\n\t\t\t\t\t\t \t <td class=\"dojoxCal-MY-btns\" colspan=\"4\">\r\n\t\t\t\t\t\t \t\t <span class=\"dijitReset dijitInline dijitButtonNode ok-btn\" dojoAttachEvent=\"onclick: onOk\" dojoAttachPoint=\"okBtn\">\r\n\t\t\t\t\t\t \t \t \t <button\tclass=\"dijitReset dijitStretch dijitButtonContents\">OK</button>\r\n\t\t\t\t\t\t\t\t </span>\r\n\t\t\t\t\t\t\t\t <span class=\"dijitReset dijitInline dijitButtonNode cancel-btn\" dojoAttachEvent=\"onclick: onCancel\" dojoAttachPoint=\"cancelBtn\">\r\n\t\t\t\t\t\t \t \t\t <button\tclass=\"dijitReset dijitStretch dijitButtonContents\">Cancel</button>\r\n\t\t\t\t\t\t\t\t </span>\r\n\t\t\t\t\t\t \t </td>\r\n\t\t\t\t\t\t </tr>\r\n\t\t\t\t</tbody>\r\n\t\t</table>\r\n</div>\r\n",datePart:"year",displayedYears:10,useHeader:false,postCreate:function(){this.cloneClass(".dojoxCal-MY-G-Template",5,".dojoxCal-MY-btns");this.monthContainer=this.yearContainer=this.myContainer;var _60="dojoxCalendarYearLabel";var _61="dojoxCalendarDecrease";var _62="dojoxCalendarIncrease";_4.query("."+_60,this.myContainer).forEach(function(_63,idx){var _65=_62;switch(idx){case 0:_65=_61;case 1:_4.removeClass(_63,_60);_4.addClass(_63,_65);break;}});this._decBtn=_4.query("."+_61,this.myContainer)[0];this._incBtn=_4.query("."+_62,this.myContainer)[0];_4.query(".dojoxCal-MY-M-Template",this.domNode).filter(function(_66){return _66.cellIndex==1;}).addClass("dojoxCal-MY-M-last");_4.connect(this,"onBeforeDisplay",_4.hitch(this,function(){this._cachedDate=new Date(this.attr("value").getTime());this._populateYears(this._cachedDate.getFullYear());this._populateMonths();this._updateSelectedMonth();this._updateSelectedYear();}));_4.connect(this,"_populateYears",_4.hitch(this,function(){this._updateSelectedYear();}));_4.connect(this,"_populateMonths",_4.hitch(this,function(){this._updateSelectedMonth();}));this._cachedDate=this.attr("value");this._populateYears();this._populateMonths();this.addFx(".dojoxCalendarMonthLabel,.dojoxCalendarYearLabel ",this.myContainer);},_setValueAttr:function(_67){this._populateYears(_67.getFullYear());},getHeader:function(){return null;},_getMonthNames:function(_68){this._monthNames=this._monthNames||_4.date.locale.getNames("months",_68,"standAlone",this.getLang());return this._monthNames;},_populateMonths:function(){var _69=this._getMonthNames("abbr");_4.query(".dojoxCalendarMonthLabel",this.monthContainer).forEach(_4.hitch(this,function(_6a,cnt){this._setText(_6a,_69[cnt]);}));var _6c=this.attr("constraints");if(_6c){var _6d=new Date();_6d.setFullYear(this._year);var min=-1,max=12;if(_6c.min){var _70=_6c.min.getFullYear();if(_70>this._year){min=12;}else{if(_70==this._year){min=_6c.min.getMonth();}}}if(_6c.max){var _71=_6c.max.getFullYear();if(_71<this._year){max=-1;}else{if(_71==this._year){max=_6c.max.getMonth();}}}_4.query(".dojoxCalendarMonthLabel",this.monthContainer).forEach(_4.hitch(this,function(_72,cnt){_4[(cnt<min||cnt>max)?"addClass":"removeClass"](_72,"dijitCalendarDisabledDate");}));}var h=this.getHeader();if(h){this._setText(this.getHeader(),this.attr("value").getFullYear());}},_populateYears:function(_75){var _76=this.attr("constraints");var _77=_75||this.attr("value").getFullYear();var _78=_77-Math.floor(this.displayedYears/2);var min=_76&&_76.min?_76.min.getFullYear():_78-10000;_78=Math.max(min,_78);this._displayedYear=_77;var _7a=_4.query(".dojoxCalendarYearLabel",this.yearContainer);var max=_76&&_76.max?_76.max.getFullYear()-_78:_7a.length;var _7c="dijitCalendarDisabledDate";_7a.forEach(_4.hitch(this,function(_7d,cnt){if(cnt<=max){this._setText(_7d,_78+cnt);_4.removeClass(_7d,_7c);}else{_4.addClass(_7d,_7c);}}));if(this._incBtn){_4[max<_7a.length?"addClass":"removeClass"](this._incBtn,_7c);}if(this._decBtn){_4[min>=_78?"addClass":"removeClass"](this._decBtn,_7c);}var h=this.getHeader();if(h){this._setText(this.getHeader(),_78+" - "+(_78+11));}},_updateSelectedYear:function(){this._year=String((this._cachedDate||this.attr("value")).getFullYear());this._updateSelectedNode(".dojoxCalendarYearLabel",_4.hitch(this,function(_80,idx){return this._year!==null&&_80.innerHTML==this._year;}));},_updateSelectedMonth:function(){var _82=(this._cachedDate||this.attr("value")).getMonth();this._month=_82;this._updateSelectedNode(".dojoxCalendarMonthLabel",function(_83,idx){return idx==_82;});},_updateSelectedNode:function(_85,_86){var sel="dijitCalendarSelectedDate";_4.query(_85,this.domNode).forEach(function(_88,idx,_8a){_4[_86(_88,idx,_8a)?"addClass":"removeClass"](_88.parentNode,sel);});var _8b=_4.query(".dojoxCal-MY-M-Template div",this.myContainer).filter(function(_8c){return _4.hasClass(_8c.parentNode,sel);})[0];if(!_8b){return;}var _8d=_4.hasClass(_8b,"dijitCalendarDisabledDate");_4[_8d?"addClass":"removeClass"](this.okBtn,"dijitDisabled");},onClick:function(evt){var _8f;var _90=this;var sel="dijitCalendarSelectedDate";function hc(c){return _4.hasClass(evt.target,c);};if(hc("dijitCalendarDisabledDate")){_4.stopEvent(evt);return;}if(hc("dojoxCalendarMonthLabel")){_8f="dojoxCal-MY-M-Template";this._month=evt.target.parentNode.cellIndex+(evt.target.parentNode.parentNode.rowIndex*2);this._cachedDate.setMonth(this._month);this._updateSelectedMonth();}else{if(hc("dojoxCalendarYearLabel")){_8f="dojoxCal-MY-Y-Template";this._year=Number(evt.target.innerHTML);this._cachedDate.setYear(this._year);this._populateMonths();this._updateSelectedYear();}else{if(hc("dojoxCalendarDecrease")){this._populateYears(this._displayedYear-10);return;}else{if(hc("dojoxCalendarIncrease")){this._populateYears(this._displayedYear+10);return;}else{return true;}}}}_4.stopEvent(evt);return false;},onOk:function(evt){_4.stopEvent(evt);if(_4.hasClass(this.okBtn,"dijitDisabled")){return false;}this.onValueSelected(this._cachedDate);return false;},onCancel:function(evt){_4.stopEvent(evt);this.onValueSelected(this.attr("value"));return false;}});_4.declare("dojox.widget.Calendar2Pane",[_6.widget._CalendarBase,_6.widget._CalendarDay,_6.widget._CalendarMonthYear],{});_4.declare("dojox.widget.Calendar",[_6.widget._CalendarBase,_6.widget._CalendarDay,_6.widget._CalendarMonthYear],{});_4.declare("dojox.widget.DailyCalendar",[_6.widget._CalendarBase,_6.widget._CalendarDay],{});_4.declare("dojox.widget.MonthAndYearlyCalendar",[_6.widget._CalendarBase,_6.widget._CalendarMonthYear],{});}}};});