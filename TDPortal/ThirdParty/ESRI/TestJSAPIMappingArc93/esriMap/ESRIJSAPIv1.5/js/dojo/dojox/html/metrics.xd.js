/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.html.metrics"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.html.metrics"]){_4._hasResource["dojox.html.metrics"]=true;_4.provide("dojox.html.metrics");(function(){var _7=_6.html.metrics;_7.getFontMeasurements=function(){var _8={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(_4.isIE){_4.doc.documentElement.style.fontSize="100%";}var _9=_4.doc.createElement("div");var ds=_9.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.border="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_4.body().appendChild(_9);for(var p in _8){ds.fontSize=p;_8[p]=Math.round(_9.offsetHeight*12/16)*16/12/1000;}_4.body().removeChild(_9);_9=null;return _8;};var _c=null;_7.getCachedFontMeasurements=function(_d){if(_d||!_c){_c=_7.getFontMeasurements();}return _c;};var _e=null,_f={};_7.getTextBox=function(_10,_11,_12){var m;if(!_e){m=_e=_4.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";_4.body().appendChild(m);}else{m=_e;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_11){for(var i in _11){if(i in _f){continue;}m.style[i]=_11[i];}}if(arguments.length>2&&_12){m.className=_12;}m.innerHTML=_10;return _4.marginBox(m);};var _15={w:16,h:16};_7.getScrollbar=function(){return {w:_15.w,h:_15.h};};_7._fontResizeNode=null;_7.initOnFontResize=function(_16){var f=_7._fontResizeNode=_4.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";if(_4.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_6._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_6._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_4.body().appendChild(f);_7.initOnFontResize=function(){};};_7.onFontResize=function(){};_7._fontresize=function(){_7.onFontResize();};_4.addOnUnload(function(){var f=_7._fontResizeNode;if(f){if(_4.isIE&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}_7._fontResizeNode=null;}});_4.addOnLoad(function(){try{var n=_4.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_4.body().appendChild(n);_15.w=n.offsetWidth-n.clientWidth;_15.h=n.offsetHeight-n.clientHeight;_4.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _4.config&&!!_4.config.fontSizeWatch){_7.initOnFontResize();}});})();}}};});