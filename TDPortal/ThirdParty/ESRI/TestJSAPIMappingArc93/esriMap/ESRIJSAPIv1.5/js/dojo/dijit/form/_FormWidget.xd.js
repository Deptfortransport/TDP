/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form._FormWidget"],["require","dijit._Widget"],["require","dijit._Templated"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form._FormWidget"]){_4._hasResource["dijit.form._FormWidget"]=true;_4.provide("dijit.form._FormWidget");_4.require("dijit._Widget");_4.require("dijit._Templated");_4.declare("dijit.form._FormWidget",[_5._Widget,_5._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:_4.delegate(_5._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_7){this.disabled=_7;_4.attr(this.focusNode,"disabled",_7);_5.setWaiState(this.focusNode,"disabled",_7);if(_7){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_8){_4.deprecated("setDisabled("+_8+") is deprecated. Use attr('disabled',"+_8+") instead.","","2.0");this.attr("disabled",_8);},_onFocus:function(e){if(this.scrollOnFocus){_5.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_a){var _b=_a.currentTarget;if(_b&&_b.getAttribute){this.stateModifier=_b.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_a.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _c=this.connect(_4.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_c);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(_4.style(this.domNode,"display")!="none");},focus:function(){_5.focus(this.focusNode);},_setStateClass:function(){var _d=this.baseClass.split(" ");function _e(_f){_d=_d.concat(_4.map(_d,function(c){return c+_f;}),"dijit"+_f);};if(this.checked){_e("Checked");}if(this.state){_e(this.state);}if(this.selected){_e("Selected");}if(this.disabled){_e("Disabled");}else{if(this.readOnly){_e("ReadOnly");}else{if(this._active){_e(this.stateModifier+"Active");}else{if(this._focused){_e("Focused");}if(this._hovering){_e(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_12={};_4.forEach(tn.className.split(" "),function(c){_12[c]=true;});if("_stateClasses" in this){_4.forEach(this._stateClasses,function(c){delete _12[c];});}_4.forEach(_d,function(c){_12[c]=true;});var _16=[];for(var c in _12){_16.push(c);}tn.className=_16.join(" ");this._stateClasses=_d;},compare:function(_18,_19){if((typeof _18=="number")&&(typeof _19=="number")){return (isNaN(_18)&&isNaN(_19))?0:(_18-_19);}else{if(_18>_19){return 1;}else{if(_18<_19){return -1;}else{return 0;}}}},onChange:function(_1a){},_onChangeActive:false,_handleOnChange:function(_1b,_1c){this._lastValue=_1b;if(this._lastValueReported==undefined&&(_1c===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_1b;}if((this.intermediateChanges||_1c||_1c===undefined)&&((typeof _1b!=typeof this._lastValueReported)||this.compare(_1b,this._lastValueReported)!=0)){this._lastValueReported=_1b;if(this._onChangeActive){this.onChange(_1b);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_1d){_4.deprecated("dijit.form._FormWidget:setValue("+_1d+") is deprecated.  Use attr('value',"+_1d+") instead.","","2.0");this.attr("value",_1d);},getValue:function(){_4.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(_4.isFF==2&&!this._layoutHackHandle){var _1e=this.domNode;var old=_1e.style.opacity;_1e.style.opacity="0.999";this._layoutHackHandle=setTimeout(_4.hitch(this,function(){this._layoutHackHandle=null;_1e.style.opacity=old;}),0);}}});_4.declare("dijit.form._FormValueWidget",_5.form._FormWidget,{attributeMap:_4.delegate(_5.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(_4.isIE||_4.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_20,_21){this.value=_20;this._handleOnChange(_20,_21);},_getValueAttr:function(_22){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==_4.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(_4.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=_4.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(_4.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=_4.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}}};});