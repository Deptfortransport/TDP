/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._Calendar"],["require","dojo.cldr.supplemental"],["require","dojo.date"],["require","dojo.date.locale"],["require","dijit._Widget"],["require","dijit._Templated"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._Calendar"]){_4._hasResource["dijit._Calendar"]=true;_4.provide("dijit._Calendar");_4.require("dojo.cldr.supplemental");_4.require("dojo.date");_4.require("dojo.date.locale");_4.require("dijit._Widget");_4.require("dijit._Templated");_4.declare("dijit._Calendar",[_5._Widget,_5._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\r\n\t<thead>\r\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\r\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"decrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" waiRole=\"presentation\">\r\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' colspan=\"5\">\r\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\r\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel\"></div>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"incrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" waiRole=\"presentation\">\r\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\r\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\r\n\t\t</tr>\r\n\t</tbody>\r\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\r\n\t\t<tr>\r\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\r\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\r\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\r\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\r\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\r\n\t\t\t\t</h3>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\t\r\n",value:new Date(),dayWidth:"narrow",setValue:function(_7){_4.deprecated("dijit.Calendar:setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");this.attr("value",_7);},_getValueAttr:function(_8){var _8=new Date(this.value);_8.setHours(0,0,0,0);if(_8.getDate()<this.value.getDate()){_8=_4.date.add(_8,"hour",1);}return _8;},_setValueAttr:function(_9){if(!this.value||_4.date.compare(_9,this.value)){_9=new Date(_9);_9.setHours(1);this.displayMonth=new Date(_9);if(!this.isDisabledDate(_9,this.lang)){this.value=_9;this.onChange(this.attr("value"));}this._populateGrid();}},_setText:function(_a,_b){while(_a.firstChild){_a.removeChild(_a.firstChild);}_a.appendChild(_4.doc.createTextNode(_b));},_populateGrid:function(){var _c=this.displayMonth;_c.setDate(1);var _d=_c.getDay();var _e=_4.date.getDaysInMonth(_c);var _f=_4.date.getDaysInMonth(_4.date.add(_c,"month",-1));var _10=new Date();var _11=this.value;var _12=_4.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_12>_d){_12-=7;}_4.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_13,i){i+=_12;var _15=new Date(_c);var _16,_17="dijitCalendar",adj=0;if(i<_d){_16=_f-_d+i+1;adj=-1;_17+="Previous";}else{if(i>=(_d+_e)){_16=i-_d-_e+1;adj=1;_17+="Next";}else{_16=i-_d+1;_17+="Current";}}if(adj){_15=_4.date.add(_15,"month",adj);}_15.setDate(_16);if(!_4.date.compare(_15,_10,"date")){_17="dijitCalendarCurrentDate "+_17;}if(!_4.date.compare(_15,_11,"date")){_17="dijitCalendarSelectedDate "+_17;}if(this.isDisabledDate(_15,this.lang)){_17="dijitCalendarDisabledDate "+_17;}var _19=this.getClassForDate(_15,this.lang);if(_19){_17=_19+" "+_17;}_13.className=_17+"Month dijitCalendarDateTemplate";_13.dijitDateValue=_15.valueOf();var _1a=_4.query(".dijitCalendarDateLabel",_13)[0];this._setText(_1a,_15.getDate());},this);var _1b=_4.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_1b[_c.getMonth()]);var y=_c.getFullYear()-1;var d=new Date();_4.forEach(["previous","current","next"],function(_1e){d.setFullYear(y++);this._setText(this[_1e+"YearLabelNode"],_4.date.locale.format(d,{selector:"year",locale:this.lang}));},this);var _1f=this;var _20=function(_21,_22,adj){_1f._connects.push(_5.typematic.addMouseListener(_1f[_21],_1f,function(_24){if(_24>=0){_1f._adjustDisplay(_22,adj);}},0.8,500));};_20("incrementMonth","month",1);_20("decrementMonth","month",-1);_20("nextYearLabelNode","year",1);_20("previousYearLabelNode","year",-1);},goToToday:function(){this.attr("value",new Date());},postCreate:function(){this.inherited(arguments);_4.setSelectable(this.domNode,false);var _25=_4.hitch(this,function(_26,n){var _28=_4.query(_26,this.domNode)[0];for(var i=0;i<n;i++){_28.parentNode.appendChild(_28.cloneNode(true));}});_25(".dijitCalendarDayLabelTemplate",6);_25(".dijitCalendarDateTemplate",6);_25(".dijitCalendarWeekTemplate",5);var _2a=_4.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _2b=_4.cldr.supplemental.getFirstDayOfWeek(this.lang);_4.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_2c,i){this._setText(_2c,_2a[(i+_2b)%7]);},this);var _2e=_4.date.locale.getNames("months","wide","standAlone",this.lang);_4.forEach(_2e,function(_2f){var _30=_4.create("div",null,this.monthLabelSpacer);this._setText(_30,_2f);},this);this.value=null;this.attr("value",new Date());},_adjustDisplay:function(_31,_32){this.displayMonth=_4.date.add(this.displayMonth,_31,_32);this._populateGrid();},_onDayClick:function(evt){_4.stopEvent(evt);for(var _34=evt.target;_34&&!_34.dijitDateValue;_34=_34.parentNode){}if(_34&&!_4.hasClass(_34,"dijitCalendarDisabledDate")){this.attr("value",_34.dijitDateValue);this.onValueSelected(this.attr("value"));}},_onDayMouseOver:function(evt){var _36=evt.target;if(_36&&(_36.dijitDateValue||_36==this.previousYearLabelNode||_36==this.nextYearLabelNode)){_4.addClass(_36,"dijitCalendarHoveredDate");this._currentNode=_36;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}for(var _38=evt.relatedTarget;_38;){if(_38==this._currentNode){return;}try{_38=_38.parentNode;}catch(x){_38=null;}}_4.removeClass(this._currentNode,"dijitCalendarHoveredDate");this._currentNode=null;},onValueSelected:function(_39){},onChange:function(_3a){},isDisabledDate:function(_3b,_3c){},getClassForDate:function(_3d,_3e){}});}}};});