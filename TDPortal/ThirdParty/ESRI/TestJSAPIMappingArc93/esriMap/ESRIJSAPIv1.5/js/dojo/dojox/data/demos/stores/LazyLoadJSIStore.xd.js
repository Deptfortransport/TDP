/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.data.demos.stores.LazyLoadJSIStore"],["require","dojo.data.ItemFileReadStore"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.data.demos.stores.LazyLoadJSIStore"]){_4._hasResource["dojox.data.demos.stores.LazyLoadJSIStore"]=true;_4.provide("dojox.data.demos.stores.LazyLoadJSIStore");_4.require("dojo.data.ItemFileReadStore");_4.declare("dojox.data.demos.stores.LazyLoadJSIStore",_4.data.ItemFileReadStore,{constructor:function(_7){},isItemLoaded:function(_8){if(this.getValue(_8,"type")==="stub"){return false;}return true;},loadItem:function(_9){var _a=_9.item;this._assertIsItem(_a);var _b=this.getValue(_a,"name");var _c=this.getValue(_a,"parent");var _d="";if(_c){_d+=(_c+"/");}_d+=_b+"/data.json";var _e=this;var _f=function(_10){delete _a.type;delete _a.parent;for(i in _10){if(_4.isArray(_10[i])){_a[i]=_10[i];}else{_a[i]=[_10[i]];}}_e._arrayOfAllItems[_a[_e._itemNumPropName]]=_a;var _11=_e.getAttributes(_a);for(i in _11){var _12=_e.getValues(_a,_11[i]);for(var j=0;j<_12.length;j++){var _14=_12[j];if(typeof _14==="object"){if(_14["stub"]){var _15={type:["stub"],name:[_14["stub"]],parent:[_b]};if(_c){_15.parent[0]=_c+"/"+_15.parent[0];}_e._arrayOfAllItems.push(_15);_15[_e._storeRefPropName]=_e;_15[_e._itemNumPropName]=(_e._arrayOfAllItems.length-1);_12[j]=_15;}}}}if(_9.onItem){var _16=_9.scope?_9.scope:_4.global;_9.onItem.call(_16,_a);}};var _17=function(_18){if(_9.onError){var _19=_9.scope?_9.scope:_4.global;_9.onError.call(_19,_18);}};var _1a={url:_d,handleAs:"json-comment-optional"};var d=_4.xhrGet(_1a);d.addCallback(_f);d.addErrback(_17);}});}}};});