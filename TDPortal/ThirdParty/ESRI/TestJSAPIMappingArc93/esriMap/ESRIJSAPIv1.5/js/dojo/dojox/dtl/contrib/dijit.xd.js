/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.dtl.contrib.dijit"],["require","dojox.dtl.dom"],["require","dojo.parser"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.dtl.contrib.dijit"]){_4._hasResource["dojox.dtl.contrib.dijit"]=true;_4.provide("dojox.dtl.contrib.dijit");_4.require("dojox.dtl.dom");_4.require("dojo.parser");(function(){var dd=_6.dtl;var _8=dd.contrib.dijit;_8.AttachNode=_4.extend(function(_9,_a){this._keys=_9;this._object=_a;},{render:function(_b,_c){if(!this._rendered){this._rendered=true;for(var i=0,_e;_e=this._keys[i];i++){_b.getThis()[_e]=this._object||_c.getParent();}}return _c;},unrender:function(_f,_10){if(this._rendered){this._rendered=false;for(var i=0,key;key=this._keys[i];i++){if(_f.getThis()[key]===(this._object||_10.getParent())){delete _f.getThis()[key];}}}return _10;},clone:function(_13){return new this.constructor(this._keys,this._object);}});_8.EventNode=_4.extend(function(_14,obj){this._command=_14;var _16,_17=_14.split(/\s*,\s*/);var _18=_4.trim;var _19=[];var fns=[];while(_16=_17.pop()){if(_16){var fn=null;if(_16.indexOf(":")!=-1){var _1c=_16.split(":");_16=_18(_1c[0]);fn=_18(_1c.slice(1).join(":"));}else{_16=_18(_16);}if(!fn){fn=_16;}_19.push(_16);fns.push(fn);}}this._types=_19;this._fns=fns;this._object=obj;this._rendered=[];},{_clear:false,render:function(_1d,_1e){for(var i=0,_20;_20=this._types[i];i++){if(!this._clear&&!this._object){_1e.getParent()[_20]=null;}var fn=this._fns[i];var _22;if(fn.indexOf(" ")!=-1){if(this._rendered[i]){_4.disconnect(this._rendered[i]);this._rendered[i]=false;}_22=_4.map(fn.split(" ").slice(1),function(_23){return new dd._Filter(_23).resolve(_1d);});fn=fn.split(" ",2)[0];}if(!this._rendered[i]){if(!this._object){this._rendered[i]=_1e.addEvent(_1d,_20,fn,_22);}else{this._rendered[i]=_4.connect(this._object,_20,_1d.getThis(),fn);}}}this._clear=true;return _1e;},unrender:function(_24,_25){while(this._rendered.length){_4.disconnect(this._rendered.pop());}return _25;},clone:function(){return new this.constructor(this._command,this._object);}});function _26(n1){var n2=n1.cloneNode(true);if(_4.isIE){_4.query("script",n2).forEach("item.text = this[index].text;",_4.query("script",n1));}return n2;};_8.DojoTypeNode=_4.extend(function(_29,_2a){this._node=_29;this._parsed=_2a;var _2b=_29.getAttribute("dojoAttachEvent");if(_2b){this._events=new _8.EventNode(_4.trim(_2b));}var _2c=_29.getAttribute("dojoAttachPoint");if(_2c){this._attach=new _8.AttachNode(_4.trim(_2c).split(/\s*,\s*/));}if(!_2a){this._dijit=_4.parser.instantiate([_26(_29)])[0];}else{_29=_26(_29);var old=_8.widgetsInTemplate;_8.widgetsInTemplate=false;this._template=new dd.DomTemplate(_29);_8.widgetsInTemplate=old;}},{render:function(_2e,_2f){if(this._parsed){var _30=new dd.DomBuffer();this._template.render(_2e,_30);var _31=_26(_30.getRootNode());var div=document.createElement("div");div.appendChild(_31);var _33=div.innerHTML;div.removeChild(_31);if(_33!=this._rendered){this._rendered=_33;if(this._dijit){this._dijit.destroyRecursive();}this._dijit=_4.parser.instantiate([_31])[0];}}var _34=this._dijit.domNode;if(this._events){this._events._object=this._dijit;this._events.render(_2e,_2f);}if(this._attach){this._attach._object=this._dijit;this._attach.render(_2e,_2f);}return _2f.concat(_34);},unrender:function(_35,_36){return _36.remove(this._dijit.domNode);},clone:function(){return new this.constructor(this._node,this._parsed);}});_4.mixin(_8,{widgetsInTemplate:true,dojoAttachPoint:function(_37,_38){return new _8.AttachNode(_38.contents.slice(16).split(/\s*,\s*/));},dojoAttachEvent:function(_39,_3a){return new _8.EventNode(_3a.contents.slice(16));},dojoType:function(_3b,_3c){var _3d=false;if(_3c.contents.slice(-7)==" parsed"){_3d=true;}var _3e=_3c.contents.slice(9);var _3f=_3d?_3e.slice(0,-7):_3e.toString();if(_8.widgetsInTemplate){var _40=_3b.swallowNode();_40.setAttribute("dojoType",_3f);return new _8.DojoTypeNode(_40,_3d);}return new dd.AttributeNode("dojoType",_3f);},on:function(_41,_42){var _43=_42.contents.split();return new _8.EventNode(_43[0]+":"+_43.slice(1).join(" "));}});dd.register.tags("dojox.dtl.contrib",{"dijit":["attr:dojoType","attr:dojoAttachPoint",["attr:attach","dojoAttachPoint"],"attr:dojoAttachEvent",[/(attr:)?on(click|key(up))/i,"on"]]});})();}}};});