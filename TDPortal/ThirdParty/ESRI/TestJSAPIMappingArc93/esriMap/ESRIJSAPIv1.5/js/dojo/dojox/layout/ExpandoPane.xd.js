/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.layout.ExpandoPane"],["require","dijit.layout.ContentPane"],["require","dijit._Templated"],["require","dijit._Container"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.layout.ExpandoPane"]){_4._hasResource["dojox.layout.ExpandoPane"]=true;_4.provide("dojox.layout.ExpandoPane");_4.experimental("dojox.layout.ExpandoPane");_4.require("dijit.layout.ContentPane");_4.require("dijit._Templated");_4.require("dijit._Container");_4.declare("dojox.layout.ExpandoPane",[_5.layout.ContentPane,_5._Templated,_5._Contained],{maxHeight:"",maxWidth:"",splitter:"",templateString:"<div class=\"dojoxExpandoPane\" dojoAttachEvent=\"ondblclick:toggle\" >\r\n\t<div dojoAttachPoint=\"titleWrapper\" class=\"dojoxExpandoTitle\">\r\n\t\t<div class=\"dojoxExpandoIcon\" dojoAttachPoint=\"iconNode\" dojoAttachEvent=\"onclick:toggle\"><span class=\"a11yNode\">X</span></div>\t\t\t\r\n\t\t<span class=\"dojoxExpandoTitleNode\" dojoAttachPoint=\"titleNode\">${title}</span>\r\n\t</div>\r\n\t<div class=\"dojoxExpandoWrapper\" dojoAttachPoint=\"cwrapper\" dojoAttachEvent=\"ondblclick:_trap\">\r\n\t\t<div class=\"dojoxExpandoContent\" dojoAttachPoint=\"containerNode\"></div>\r\n\t</div>\r\n</div>\r\n",easeOut:"dojo._DefaultEasing",easeIn:"dojo._DefaultEasing",duration:420,startExpanded:true,baseClass:"dijitExpandoPane",postCreate:function(){this.inherited(arguments);this._animConnects=[];this._isHorizontal=true;if(_4.isString(this.easeOut)){this.easeOut=_4.getObject(this.easeOut);}if(_4.isString(this.easeIn)){this.easeIn=_4.getObject(this.easeIn);}var _7="",_8=!this.isLeftToRight();if(this.region){switch(this.region){case "trailing":case "right":_7=_8?"Left":"Right";break;case "leading":case "left":_7=_8?"Right":"Left";break;case "top":_7="Top";break;case "bottom":_7="Bottom";break;}_4.addClass(this.domNode,"dojoxExpando"+_7);this._isHorizontal=/top|bottom/.test(this.region);}_4.style(this.domNode,{overflow:"hidden",padding:0});},_startupSizes:function(){this._container=this.getParent();this._closedSize=this._titleHeight=_4.marginBox(this.titleWrapper).h;if(this.splitter){var _9=this.id;_5.registry.filter(function(w){return w&&w.child&&w.child.id==_9;}).forEach(_4.hitch(this,function(w){this.connect(w,"_stopDrag","_afterResize");}));}this._currentSize=_4.contentBox(this.domNode);this._showSize=this._currentSize[(this._isHorizontal?"h":"w")];this._setupAnims();if(this.startExpanded){this._showing=true;}else{this._showing=false;this._hideWrapper();this._hideAnim.gotoPercent(99,true);}this._hasSizes=true;},_afterResize:function(e){var _d=this._currentSize;this._currentSize=_4.marginBox(this.domNode);var n=this._currentSize[(this._isHorizontal?"h":"w")];if(n>this._titleHeight){if(!this._showing){this._showing=!this._showing;this._showEnd();}this._showSize=n;this._setupAnims();}else{this._showSize=_d[(this._isHorizontal?"h":"w")];this._showing=false;this._hideWrapper();this._hideAnim.gotoPercent(89,true);}},_setupAnims:function(){_4.forEach(this._animConnects,_4.disconnect);var _f={node:this.domNode,duration:this.duration},_10=this._isHorizontal,_11={},_12={},_13=_10?"height":"width";_11[_13]={end:this._showSize,unit:"px"};_12[_13]={end:this._closedSize,unit:"px"};this._showAnim=_4.animateProperty(_4.mixin(_f,{easing:this.easeIn,properties:_11}));this._hideAnim=_4.animateProperty(_4.mixin(_f,{easing:this.easeOut,properties:_12}));this._animConnects=[_4.connect(this._showAnim,"onEnd",this,"_showEnd"),_4.connect(this._hideAnim,"onEnd",this,"_hideEnd")];},toggle:function(){if(this._showing){this._hideWrapper();this._showAnim&&this._showAnim.stop();this._hideAnim.play();}else{this._hideAnim&&this._hideAnim.stop();this._showAnim.play();}this._showing=!this._showing;},_hideWrapper:function(){_4.addClass(this.domNode,"dojoxExpandoClosed");_4.style(this.cwrapper,{visibility:"hidden",opacity:"0",overflow:"hidden"});},_showEnd:function(){_4.style(this.cwrapper,{opacity:0,visibility:"visible"});_4.fadeIn({node:this.cwrapper,duration:227}).play(1);_4.removeClass(this.domNode,"dojoxExpandoClosed");setTimeout(_4.hitch(this._container,"layout"),15);},_hideEnd:function(){setTimeout(_4.hitch(this._container,"layout"),15);},resize:function(_14){if(!this._hasSizes){this._startupSizes(_14);}var _15=(_14&&_14.h)?_14:_4.marginBox(this.domNode);this._contentBox={w:_15.w||_4.marginBox(this.domNode).w,h:_15.h-this._titleHeight};_4.style(this.containerNode,"height",this._contentBox.h+"px");this._layoutChildren();},_trap:function(e){_4.stopEvent(e);}});}}};});