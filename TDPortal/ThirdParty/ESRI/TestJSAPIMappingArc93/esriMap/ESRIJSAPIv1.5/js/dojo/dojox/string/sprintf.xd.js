/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.string.sprintf"],["require","dojox.string.tokenize"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.string.sprintf"]){_4._hasResource["dojox.string.sprintf"]=true;_4.provide("dojox.string.sprintf");_4.require("dojox.string.tokenize");_6.string.sprintf=function(_7,_8){for(var _9=[],i=1;i<arguments.length;i++){_9.push(arguments[i]);}var _b=new _6.string.sprintf.Formatter(_7);return _b.format.apply(_b,_9);};_6.string.sprintf.Formatter=function(_c){var _d=[];this._mapped=false;this._format=_c;this._tokens=_6.string.tokenize(_c,this._re,this._parseDelim,this);};_4.extend(_6.string.sprintf.Formatter,{_re:/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%scdeEfFgGiouxX])/g,_parseDelim:function(_e,_f,_10,_11,_12,_13,_14){if(_e){this._mapped=true;}return {mapping:_e,intmapping:_f,flags:_10,_minWidth:_11,period:_12,_precision:_13,specifier:_14};},_specifiers:{b:{base:2,isInt:true},o:{base:8,isInt:true},x:{base:16,isInt:true},X:{extend:["x"],toUpper:true},d:{base:10,isInt:true},i:{extend:["d"]},u:{extend:["d"],isUnsigned:true},c:{setArg:function(_15){if(!isNaN(_15.arg)){var num=parseInt(_15.arg);if(num<0||num>127){throw new Error("invalid character code passed to %c in sprintf");}_15.arg=isNaN(num)?""+num:String.fromCharCode(num);}}},s:{setMaxWidth:function(_17){_17.maxWidth=(_17.period==".")?_17.precision:-1;}},e:{isDouble:true,doubleNotation:"e"},E:{extend:["e"],toUpper:true},f:{isDouble:true,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:true,doubleNotation:"g"},G:{extend:["g"],toUpper:true}},format:function(_18){if(this._mapped&&typeof _18!="object"){throw new Error("format requires a mapping");}var str="";var _1a=0;for(var i=0,_1c;i<this._tokens.length;i++){_1c=this._tokens[i];if(typeof _1c=="string"){str+=_1c;}else{if(this._mapped){if(typeof _18[_1c.mapping]=="undefined"){throw new Error("missing key "+_1c.mapping);}_1c.arg=_18[_1c.mapping];}else{if(_1c.intmapping){var _1a=parseInt(_1c.intmapping)-1;}if(_1a>=arguments.length){throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");}_1c.arg=arguments[_1a++];}if(!_1c.compiled){_1c.compiled=true;_1c.sign="";_1c.zeroPad=false;_1c.rightJustify=false;_1c.alternative=false;var _1d={};for(var fi=_1c.flags.length;fi--;){var _1f=_1c.flags.charAt(fi);_1d[_1f]=true;switch(_1f){case " ":_1c.sign=" ";break;case "+":_1c.sign="+";break;case "0":_1c.zeroPad=(_1d["-"])?false:true;break;case "-":_1c.rightJustify=true;_1c.zeroPad=false;break;case "#":_1c.alternative=true;break;default:throw Error("bad formatting flag '"+_1c.flags.charAt(fi)+"'");}}_1c.minWidth=(_1c._minWidth)?parseInt(_1c._minWidth):0;_1c.maxWidth=-1;_1c.toUpper=false;_1c.isUnsigned=false;_1c.isInt=false;_1c.isDouble=false;_1c.precision=1;if(_1c.period=="."){if(_1c._precision){_1c.precision=parseInt(_1c._precision);}else{_1c.precision=0;}}var _20=this._specifiers[_1c.specifier];if(typeof _20=="undefined"){throw new Error("unexpected specifier '"+_1c.specifier+"'");}if(_20.extend){_4.mixin(_20,this._specifiers[_20.extend]);delete _20.extend;}_4.mixin(_1c,_20);}if(typeof _1c.setArg=="function"){_1c.setArg(_1c);}if(typeof _1c.setMaxWidth=="function"){_1c.setMaxWidth(_1c);}if(_1c._minWidth=="*"){if(this._mapped){throw new Error("* width not supported in mapped formats");}_1c.minWidth=parseInt(arguments[_1a++]);if(isNaN(_1c.minWidth)){throw new Error("the argument for * width at position "+_1a+" is not a number in "+this._format);}if(_1c.minWidth<0){_1c.rightJustify=true;_1c.minWidth=-_1c.minWidth;}}if(_1c._precision=="*"&&_1c.period=="."){if(this._mapped){throw new Error("* precision not supported in mapped formats");}_1c.precision=parseInt(arguments[_1a++]);if(isNaN(_1c.precision)){throw Error("the argument for * precision at position "+_1a+" is not a number in "+this._format);}if(_1c.precision<0){_1c.precision=1;_1c.period="";}}if(_1c.isInt){if(_1c.period=="."){_1c.zeroPad=false;}this.formatInt(_1c);}else{if(_1c.isDouble){if(_1c.period!="."){_1c.precision=6;}this.formatDouble(_1c);}}this.fitField(_1c);str+=""+_1c.arg;}}return str;},_zeros10:"0000000000",_spaces10:"          ",formatInt:function(_21){var i=parseInt(_21.arg);if(!isFinite(i)){if(typeof _21.arg!="number"){throw new Error("format argument '"+_21.arg+"' not an integer; parseInt returned "+i);}i=0;}if(i<0&&(_21.isUnsigned||_21.base!=10)){i=4294967295+i+1;}if(i<0){_21.arg=(-i).toString(_21.base);this.zeroPad(_21);_21.arg="-"+_21.arg;}else{_21.arg=i.toString(_21.base);if(!i&&!_21.precision){_21.arg="";}else{this.zeroPad(_21);}if(_21.sign){_21.arg=_21.sign+_21.arg;}}if(_21.base==16){if(_21.alternative){_21.arg="0x"+_21.arg;}_21.arg=_21.toUpper?_21.arg.toUpperCase():_21.arg.toLowerCase();}if(_21.base==8){if(_21.alternative&&_21.arg.charAt(0)!="0"){_21.arg="0"+_21.arg;}}},formatDouble:function(_23){var f=parseFloat(_23.arg);if(!isFinite(f)){if(typeof _23.arg!="number"){throw new Error("format argument '"+_23.arg+"' not a float; parseFloat returned "+f);}f=0;}switch(_23.doubleNotation){case "e":_23.arg=f.toExponential(_23.precision);break;case "f":_23.arg=f.toFixed(_23.precision);break;case "g":if(Math.abs(f)<0.0001){_23.arg=f.toExponential(_23.precision>0?_23.precision-1:_23.precision);}else{_23.arg=f.toPrecision(_23.precision);}if(!_23.alternative){_23.arg=_23.arg.replace(/(\..*[^0])0*/,"$1");_23.arg=_23.arg.replace(/\.0*e/,"e").replace(/\.0$/,"");}break;default:throw new Error("unexpected double notation '"+_23.doubleNotation+"'");}_23.arg=_23.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1");if(_4.isOpera){_23.arg=_23.arg.replace(/^\./,"0.");}if(_23.alternative){_23.arg=_23.arg.replace(/^(\d+)$/,"$1.");_23.arg=_23.arg.replace(/^(\d+)e/,"$1.e");}if(f>=0&&_23.sign){_23.arg=_23.sign+_23.arg;}_23.arg=_23.toUpper?_23.arg.toUpperCase():_23.arg.toLowerCase();},zeroPad:function(_25,_26){_26=(arguments.length==2)?_26:_25.precision;if(typeof _25.arg!="string"){_25.arg=""+_25.arg;}var _27=_26-10;while(_25.arg.length<_27){_25.arg=(_25.rightJustify)?_25.arg+this._zeros10:this._zeros10+_25.arg;}var pad=_26-_25.arg.length;_25.arg=(_25.rightJustify)?_25.arg+this._zeros10.substring(0,pad):this._zeros10.substring(0,pad)+_25.arg;},fitField:function(_29){if(_29.maxWidth>=0&&_29.arg.length>_29.maxWidth){return _29.arg.substring(0,_29.maxWidth);}if(_29.zeroPad){this.zeroPad(_29,_29.minWidth);return;}this.spacePad(_29);},spacePad:function(_2a,_2b){_2b=(arguments.length==2)?_2b:_2a.minWidth;if(typeof _2a.arg!="string"){_2a.arg=""+_2a.arg;}var _2c=_2b-10;while(_2a.arg.length<_2c){_2a.arg=(_2a.rightJustify)?_2a.arg+this._spaces10:this._spaces10+_2a.arg;}var pad=_2b-_2a.arg.length;_2a.arg=(_2a.rightJustify)?_2a.arg+this._spaces10.substring(0,pad):this._spaces10.substring(0,pad)+_2a.arg;}});}}};});