/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.xml.parser"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.xml.parser"]){_4._hasResource["dojox.xml.parser"]=true;_4.provide("dojox.xml.parser");_6.xml.parser.parse=function(_7,_8){var _9=_4.doc;var _a;_8=_8||"text/xml";if(_7&&_4.trim(_7)&&"DOMParser" in _4.global){var _b=new DOMParser();_a=_b.parseFromString(_7,_8);var de=_a.documentElement;var _d="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_d){var _e=de.getElementsByTagNameNS(_d,"sourcetext")[0];if(!_e){_e=_e.firstChild.data;}throw new Error("Error parsing text "+nativeDoc.documentElement.firstChild.data+" \n"+_e);}return _a;}else{if("ActiveXObject" in _4.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_4.some(dp,function(p){try{_a=new ActiveXObject(p);}catch(e){return false;}return true;});if(_7&&_a){_a.async=false;_a.loadXML(_7);var pe=_a.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(_a){return _a;}}else{if(_9.implementation&&_9.implementation.createDocument){if(_7&&_4.trim(_7)&&_9.createElement){var tmp=_9.createElement("xml");tmp.innerHTML=_7;var _15=_9.implementation.createDocument("foo","",null);_4.forEach(tmp.childNodes,function(_16){_15.importNode(_16,true);});return _15;}else{return _9.implementation.createDocument("","",null);}}}}return null;};_6.xml.parser.textContent=function(_17,_18){if(arguments.length>1){var _19=_17.ownerDocument||_4.doc;_6.xml.parser.replaceChildren(_17,_19.createTextNode(_18));return _18;}else{if(_17.textContent!==undefined){return _17.textContent;}var _1a="";if(_17){_4.forEach(_17.childNodes,function(_1b){switch(_1b.nodeType){case 1:case 5:_1a+=_6.xml.parser.textContent(_1b);break;case 3:case 2:case 4:_1a+=_1b.nodeValue;}});}return _1a;}};_6.xml.parser.replaceChildren=function(_1c,_1d){var _1e=[];if(_4.isIE){_4.forEach(_1c.childNodes,function(_1f){_1e.push(_1f);});}_6.xml.parser.removeChildren(_1c);_4.forEach(_1e,_4.destroy);if(!_4.isArray(_1d)){_1c.appendChild(_1d);}else{_4.forEach(_1d,function(_20){_1c.appendChild(_20);});}};_6.xml.parser.removeChildren=function(_21){var _22=_21.childNodes.length;while(_21.hasChildNodes()){_21.removeChild(_21.firstChild);}return _22;};_6.xml.parser.innerXML=function(_23){if(_23.innerXML){return _23.innerXML;}else{if(_23.xml){return _23.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(_23);}}}return null;};}}};});