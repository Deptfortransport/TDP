/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.form.Rating"],["require","dijit.form._FormWidget"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.form.Rating"]){_4._hasResource["dojox.form.Rating"]=true;_4.provide("dojox.form.Rating");_4.require("dijit.form._FormWidget");_4.declare("dojox.form.Rating",_5.form._FormWidget,{templateString:null,numStars:3,value:0,constructor:function(_7){_4.mixin(this,_7);var _8="<div dojoAttachPoint=\"domNode\" class=\"dojoxRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _9="<li class=\"dojoxRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _a="";for(var i=0;i<this.numStars;i++){_a+=_4.string.substitute(_9,{value:i+1});}this.templateString=_4.string.substitute(_8,{stars:_a});},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);},_onMouse:function(_c){this.inherited(arguments);if(this._hovering){var _d=+_4.attr(_c.target,"value");this.onMouseOver(_c,_d);this._renderStars(_d,true);}else{this._renderStars(this.value);}},_renderStars:function(_e,_f){_4.query(".dojoxRatingStar",this.domNode).forEach(function(_10,i){if(i+1>_e){_4.removeClass(_10,"dojoxRatingStarHover");_4.removeClass(_10,"dojoxRatingStarChecked");}else{_4.removeClass(_10,"dojoxRatingStar"+(_f?"Checked":"Hover"));_4.addClass(_10,"dojoxRatingStar"+(_f?"Hover":"Checked"));}});},onStarClick:function(evt){var _13=+_4.attr(evt.target,"value");this.setAttribute("value",_13==this.value?0:_13);this._renderStars(this.value);this.onChange(this.value);},onMouseOver:function(){},setAttribute:function(key,_15){this.inherited("setAttribute",arguments);if(key=="value"){this._renderStars(this.value);this.onChange(this.value);}}});}}};});