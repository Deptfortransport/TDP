/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.date.IslamicDate"],["require","dojo.date.locale"],["require","dojo.date"],["requireLocalization","dojo.cldr","islamic",null,"ROOT,ar","ROOT,ar"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.date.IslamicDate"]){_4._hasResource["dojox.date.IslamicDate"]=true;_4.provide("dojox.date.IslamicDate");_4.experimental("dojox.date.IslamicDate");_4.require("dojo.date.locale");_4.require("dojo.date");_4.declare("dojox.date.IslamicDate",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,_GREGORIAN_EPOCH:1721425.5,_ISLAMIC_EPOCH:1948439.5,constructor:function(){var _7=arguments.length;if(_7==0){var d=new Date();this._day=d.getDay();this.fromGregorian(d);}else{if(_7==1){this.parse(arguments[0]);}else{if(_7>=3){this._year=arguments[0];this._month=arguments[1];this._date=arguments[2];this._hours=arguments[3]||0;this._minutes=arguments[4]||0;this._seconds=arguments[5]||0;this._milliseconds=arguments[6]||0;}}}},getDate:function(){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getDay:function(){var gd=this.toGregorian();return gd.getDay();},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(_a){_a=parseInt(_a);if(_a>0&&_a<=this.getDaysInIslamicMonth(this._month,this._year)){this._date=_a;}else{var _b;if(_a>0){for(_b=this.getDaysInIslamicMonth(this._month,this._year);_a>_b;_a-=_b,_b=this.getDaysInIslamicMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=_a;}else{for(_b=this.getDaysInIslamicMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);_a<=0;_b=this.getDaysInIslamicMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}_a+=_b;}this._date=_a;}}return this;},setYear:function(_c){this._year=parseInt(_c);},setMonth:function(_d){this._year+=Math.floor(_d/12);this._month=Math.floor(_d%12);},setHours:function(){var _e=arguments.length;var _f=0;if(_e>=1){_f=parseInt(arguments[0]);}if(_e>=2){this._minutes=parseInt(arguments[1]);}if(_e>=3){this._seconds=parseInt(arguments[2]);}if(_e==4){this._milliseconds=parseInt(arguments[3]);}while(_f>=24){this._date++;var _10=this.getDaysInIslamicMonth(this._month,this._year);if(this._date>_10){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_10;}_f-=24;}this._hours=_f;},setMinutes:function(_11){while(_11>=60){this._hours++;if(this._hours>=24){this._date++;this._hours-=24;var _12=this.getDaysInIslamicMonth(this._month,this._year);if(this._date>_12){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_12;}}_11-=60;}this._minutes=_11;},setSeconds:function(_13){while(_13>=60){this._minutes++;if(this._minutes>=60){this._hours++;this._minutes-=60;if(this._hours>=24){this._date++;this._hours-=24;var _14=this.getDaysInIslamicMonth(this._month,this._year);if(this._date>_14){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_14;}}}_13-=60;}this._seconds=_13;},setMilliseconds:function(_15){while(_15>=1000){this.setSeconds++;if(this.setSeconds>=60){this._minutes++;this.setSeconds-=60;if(this._minutes>=60){this._hours++;this._minutes-=60;if(this._hours>=24){this._date++;this._hours-=24;var _16=this.getDaysInIslamicMonth(this._month,this._year);if(this._date>_16){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_16;}}}}_15-=1000;}this._milliseconds=_15;},toString:function(){var x=new Date();x.setHours(this._hours);x.setMinutes(this._minutes);x.setSeconds(this._seconds);x.setMilliseconds(this._milliseconds);var _18=x.toTimeString();return (_6.date.IslamicDate.weekDays[this.getDay()]+" "+_6.date.IslamicDate.months[this._month]+" "+this._date+" "+this._year+" "+_18);},toGregorian:function(){var _19=this._year;var _1a=this._month;var _1b=this._date;var _1c=_1b+Math.ceil(29.5*_1a)+(_19-1)*354+Math.floor((3+(11*_19))/30)+this._ISLAMIC_EPOCH-1;var wjd=Math.floor(_1c-0.5)+0.5,_1e=wjd-this._GREGORIAN_EPOCH,_1f=Math.floor(_1e/146097),dqc=this._mod(_1e,146097),_21=Math.floor(dqc/36524),_22=this._mod(dqc,36524),_23=Math.floor(_22/1461),_24=this._mod(_22,1461),_25=Math.floor(_24/365),_26=(_1f*400)+(_21*100)+(_23*4)+_25;if(!(_21==4||_25==4)){_26++;}var _27=this._GREGORIAN_EPOCH+(365*(_26-1))+Math.floor((_26-1)/4)-(Math.floor((_26-1)/100))+Math.floor((_26-1)/400);var _28=wjd-_27;var tjd=(this._GREGORIAN_EPOCH-1)+(365*(_26-1))+Math.floor((_26-1)/4)-(Math.floor((_26-1)/100))+Math.floor((_26-1)/400)+Math.floor((739/12)+((_4.date.isLeapYear(new Date(_26,3,1))?-1:-2))+1);var _2a=((wjd<tjd)?0:(_4.date.isLeapYear(new Date(_26,3,1))?1:2));var _2b=Math.floor((((_28+_2a)*12)+373)/367);var _2c=(this._GREGORIAN_EPOCH-1)+(365*(_26-1))+Math.floor((_26-1)/4)-(Math.floor((_26-1)/100))+Math.floor((_26-1)/400)+Math.floor((((367*_2b)-362)/12)+((_2b<=2)?0:(_4.date.isLeapYear(new Date(_26,_2b,1))?-1:-2))+1);var day=(wjd-_2c);var _2e=new Date(_26,_2b-1,day);_2e.setHours(this._hours);_2e.setMilliseconds(this._milliseconds);_2e.setMinutes(this._minutes);_2e.setSeconds(this._seconds);return _2e;},fromGregorian:function(_2f){var _30=new Date(_2f);var _31=_30.getFullYear(),_32=_30.getMonth(),_33=_30.getDate();var _34=(this._GREGORIAN_EPOCH-1)+(365*(_31-1))+Math.floor((_31-1)/4)+(-Math.floor((_31-1)/100))+Math.floor((_31-1)/400)+Math.floor((((367*(_32+1))-362)/12)+(((_32+1)<=2)?0:(_4.date.isLeapYear(_30)?-1:-2))+_33)+(Math.floor(_30.getSeconds()+60*(_30.getMinutes()+60*_30.getHours())+0.5)/86400);_34=Math.floor(_34)+0.5;var _35=_34-1948440;var _36=Math.floor((30*_35+10646)/10631);var _37=Math.ceil((_35-29-this._yearStart(_36))/29.5);_37=Math.min(_37,11);var _38=Math.ceil(_35-this._monthStart(_36,_37))+1;this._date=_38;this._month=_37;this._year=_36;this._hours=_30.getHours();this._minutes=_30.getMinutes();this._seconds=_30.getSeconds();this._milliseconds=_30.getMilliseconds();this._day=_30.getDay();return this;},parse:function(_39){var _3a=_39.toString();var _3b=/\d{1,2}\D\d{1,2}\D\d{4}/;var sD,jd,mD=_3a.match(_3b);if(mD){mD=mD.toString();sD=mD.split(/\D/);this._month=sD[0]-1;this._date=sD[1];this._year=sD[2];}else{mD=_3a.match(/\D{4,}\s\d{1,2}\s\d{4}/);if(mD){mD=mD.toString();var _3f=mD.match(/\d{1,2}\s\d{4}/);_3f=_3f.toString();var _40=mD.replace(/\s\d{1,2}\s\d{4}/,"");_40=_40.toString();this._month=_4.indexOf(this._months,_40);sD=_3f.split(/\s/);this._date=sD[0];this._year=sD[1];}}var _41=_3a.match(/\d{2}:/);if(_41!=null){_41=_41.toString();var _42=_41.split(":");this._hours=_42[0];_41=_3a.match(/\d{2}:\d{2}/);if(_41){_41=_41.toString();_42=_41.split(":");}this._minutes=_42[1]!=null?_42[1]:0;_41=_3a.match(/\d{2}:\d{2}:\d{2}/);if(_41){_41=_41.toString();_42=_41.split(":");}this._seconds=_42[2]!=null?_42[2]:0;}else{this._hours=0;this._minutes=0;this._seconds=0;}this._milliseconds=0;},valueOf:function(){var _43=this.toGregorian();return _43.valueOf();},_yearStart:function(_44){return (_44-1)*354+Math.floor((3+11*_44)/30);},_monthStart:function(_45,_46){return Math.ceil(29.5*_46)+(_45-1)*354+Math.floor((3+11*_45)/30);},_civilLeapYear:function(_47){return (14+11*_47)%30<11;},getDaysInIslamicMonth:function(_48,_49){var _4a=0;_4a=29+((_48+1)%2);if(_48==11&&this._civilLeapYear(_49)){_4a++;}return _4a;},_mod:function(a,b){return a-(b*Math.floor(a/b));}});_6.date.IslamicDate.getDaysInIslamicMonth=function(_4d){return new _6.date.IslamicDate().getDaysInIslamicMonth(_4d.getMonth(),_4d.getFullYear());};_6.date.IslamicDate._getNames=function(_4e,_4f,use,_51){var _52;var _53=_4.i18n.getLocalization("dojo.cldr","islamic",_51);var _54=[_4e,use,_4f];if(use=="standAlone"){_52=_53[_54.join("-")];}_54[1]="format";return (_52||_53[_54.join("-")]).concat();};_6.date.IslamicDate.weekDays=_6.date.IslamicDate._getNames("days","wide","format");_6.date.IslamicDate.months=_6.date.IslamicDate._getNames("months","wide","format");}}};});