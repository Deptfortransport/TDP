/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._editor.plugins.FontChoice"],["require","dijit._editor._Plugin"],["require","dijit.form.FilteringSelect"],["require","dojo.data.ItemFileReadStore"],["require","dojo.i18n"],["requireLocalization","dijit._editor","FontChoice",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._editor.plugins.FontChoice"]){_4._hasResource["dijit._editor.plugins.FontChoice"]=true;_4.provide("dijit._editor.plugins.FontChoice");_4.require("dijit._editor._Plugin");_4.require("dijit.form.FilteringSelect");_4.require("dojo.data.ItemFileReadStore");_4.require("dojo.i18n");_4.declare("dijit._editor.plugins.FontChoice",_5._editor._Plugin,{_uniqueId:0,buttonClass:_5.form.FilteringSelect,useDefaultCommand:false,_initButton:function(){var _7=this.command;var _8=this.custom||{fontName:this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"],fontSize:[1,2,3,4,5,6,7],formatBlock:["p","h1","h2","h3","pre"]}[_7];this._availableValues=_8;var _9=_4.i18n.getLocalization("dijit._editor","FontChoice");var _a=_4.map(_8,function(_b){var _c=_9[_b]||_b;var _d=_c;switch(_7){case "fontName":_d="<div style='font-family: "+_b+"'>"+_c+"</div>";break;case "fontSize":_d="<font size="+_b+"'>"+_c+"</font>";break;case "formatBlock":_d="<"+_b+">"+_c+"</"+_b+">";}return {label:_d,name:_c,value:_b};});this.inherited(arguments,[{required:false,labelType:"html",labelAttr:"label",searchAttr:"name",store:new _4.data.ItemFileReadStore({data:{identifier:"value",items:_a}})}]);this.button.attr("value","");this.connect(this.button,"onChange",function(_e){if(this.updating){return;}if(_4.isIE||!this._focusHandle){this.editor.focus();}else{_5.focus(this._focusHandle);}if(this.command=="fontName"&&_e.indexOf(" ")!=-1){_e="'"+_e+"'";}this.editor.execCommand(this.editor._normalizeCommand(this.command),_e);});},updateState:function(){this.inherited(arguments);var _e=this.editor;var _c=this.command;if(!_e||!_e.isLoaded||!_c.length){return;}if(this.button){var _11;try{_11=_e.queryCommandValue(_c)||"";}catch(e){_11="";}var _12=_4.isString(_11)&&_11.match(/'([^']*)'/);if(_12){_11=_12[1];}if(this.generic&&_c=="fontName"){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy"};_11=map[_11]||_11;}else{if(_c=="fontSize"&&_11.indexOf&&_11.indexOf("px")!=-1){var _14=parseInt(_11);_11={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_14]||_11;}}this.updating=true;this.button.attr("value",_4.indexOf(this._availableValues,_11)<0?"":_11);delete this.updating;}if(this.editor.iframe){this._focusHandle=_5.getFocus(this.editor.iframe);}},setToolbar:function(){this.inherited(arguments);var _15=this.button;if(!_15.id){_15.id=_5._scopeName+"EditorButton-"+this.command+(this._uniqueId++);}var _16=_4.doc.createElement("label");_4.addClass(_16,"dijit dijitReset dijitLeft dijitInline");_16.setAttribute("for",_15.id);var _17=_4.i18n.getLocalization("dijit._editor","FontChoice");_16.appendChild(_4.doc.createTextNode(_17[this.command]));_4.place(_16,this.button.domNode,"before");}});_4.subscribe(_5._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "fontName":case "fontSize":case "formatBlock":o.plugin=new _5._editor.plugins.FontChoice({command:o.args.name});}});}}};});