/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.io.xhrPlugins"],["require","dojo.AdapterRegistry"],["require","dojo._base.xhr"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.io.xhrPlugins"]){_4._hasResource["dojox.io.xhrPlugins"]=true;_4.provide("dojox.io.xhrPlugins");_4.require("dojo.AdapterRegistry");_4.require("dojo._base.xhr");(function(){var _7;var _8;_6.io.xhrPlugins.register=function(){if(!_7){_7=new _4.AdapterRegistry();_8=_6.io.xhrPlugins.plainXhr=_4._defaultXhr||_4.xhr;_4[_4._defaultXhr?"_defaultXhr":"xhr"]=function(_9,_a,_b){return _7.match.apply(_7,arguments);};_7.register("xhr",function(_c,_d){if(!_d.url.match(/^\w*:\/\//)){return true;}var _e=window.location.href.match(/^.*?\/\/.*?\//)[0];return _d.url.substring(0,_e.length)==_e;},_8);}return _7.register.apply(_7,arguments);};_6.io.xhrPlugins.addProxy=function(_f){_6.io.xhrPlugins.register("proxy",function(_10,_11){return true;},function(_12,_13,_14){_13.url=_f+encodeURIComponent(_13.url);return _8.call(_4,_12,_13,_14);});};var _15;_6.io.xhrPlugins.addCrossSiteXhr=function(url,_17){if(_15===undefined&&window.XMLHttpRequest){try{var xhr=new XMLHttpRequest();xhr.open("GET","http://fnadkfna.com",true);_15=true;}catch(e){_15=false;}}_6.io.xhrPlugins.register("cs-xhr",function(_19,_1a){return (_15||(window.XDomainRequest&&_1a.sync!==true&&(_19=="GET"||_19=="POST"||_17)))&&(_1a.url.substring(0,url.length)==url);},_15?_8:function(){var _1b=_4._xhrObj;_4._xhrObj=function(){var xdr=new XDomainRequest();xdr.readyState=1;xdr.setRequestHeader=function(){};xdr.getResponseHeader=function(_1d){return _1d=="Content-Type"?xdr.contentType:null;};function _1e(_1f,_20){return function(){xdr.readyState=_20;xdr.status=_1f;};};xdr.onload=_1e(200,4);xdr.onprogress=_1e(200,3);xdr.onerror=_1e(404,4);return xdr;};var dfd=(_17?_17(_8):_8).apply(_4,arguments);_4._xhrObj=_1b;return dfd;});};_6.io.xhrPlugins.fullHttpAdapter=function(_22,_23){return function(_24,_25,_26){var _27={};var _28={};if(_24!="GET"){_28["http-method"]=_24;if(_25.putData&&_23){_27["http-content"]=_25.putData;delete _25.putData;_26=false;}if(_25.postData&&_23){_27["http-content"]=_25.postData;delete _25.postData;_26=false;}_24="POST";}for(var i in _25.headers){var _2a=i.match(/^X-/)?i.substring(2).replace(/-/g,"_").toLowerCase():("http-"+i);_28[_2a]=_25.headers[i];}_25.query=_4.objectToQuery(_28);_4._ioAddQueryToUrl(_25);_25.content=_4.mixin(_25.content||{},_27);return _22.call(_4,_24,_25,_26);};};})();}}};});