/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.widget.gauge.BarIndicator"],["require","dojox.widget.BarGauge"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.widget.gauge.BarIndicator"]){_4._hasResource["dojox.widget.gauge.BarIndicator"]=true;_4.provide("dojox.widget.gauge.BarIndicator");_4.require("dojox.widget.BarGauge");_4.experimental("dojox.widget.gauge.BarIndicator");_4.declare("dojox.widget.gauge.BarIndicator",[_6.widget.gauge.BarLineIndicator],{_getShapes:function(){if(!this._gauge){return null;}var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var _8=this._gauge._getPosition(v);if(_8==this.dataX){_8=this.dataX+1;}var y=this._gauge.dataY+Math.floor((this._gauge.dataHeight-this.width)/2)+this.offset;var _a=[];_a[0]=this._gauge.surface.createRect({x:this._gauge.dataX,y:y,width:_8-this._gauge.dataX,height:this.width});_a[0].setStroke({color:this.color});_a[0].setFill(this.color);_a[1]=this._gauge.surface.createLine({x1:this._gauge.dataX,y1:y,x2:_8,y2:y});_a[1].setStroke({color:this.highlight});if(this.highlight2){y--;_a[2]=this._gauge.surface.createLine({x1:this._gauge.dataX,y1:y,x2:_8,y2:y});_a[2].setStroke({color:this.highlight2});}return _a;},_createShapes:function(_b){for(var i in this.shapes){i=this.shapes[i];var _d={};for(var j in i){_d[j]=i[j];}if(i.shape.type=="line"){_d.shape.x2=_b+_d.shape.x1;}else{if(i.shape.type=="rect"){_d.width=_b;}}i.setShape(_d);}},_move:function(_f){var _10=false;var c;var v=this.value;if(v<this.min){v=this.min;}if(v>this.max){v=this.max;}c=this._gauge._getPosition(this.currentValue);this.currentValue=v;v=this._gauge._getPosition(v)-this._gauge.dataX;if(_f){this._createShapes(v);}else{if(c!=v){var _13=new _4._Animation({curve:[c,v],duration:this.duration,easing:this.easing});_4.connect(_13,"onAnimate",_4.hitch(this,this._createShapes));_13.play();}}}});}}};});